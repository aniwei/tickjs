$gwx_XC_86=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_86 || [];
function gz$gwx_XC_86_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_86_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_86_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_86_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'$taroCompReady']])
Z([[7],[3,'$compid__1477']])
Z([3,'p-index'])
Z([[7],[3,'anonymousState__temp3']])
Z([[7],[3,'$compid__1478']])
Z([[7],[3,'isShowPartyTips']])
Z([[10],[[7],[3,'anonymousState__temp']]])
Z([3,'renderPartyTips'])
Z([[7],[3,'anonymousState__temp8']])
Z([[7],[3,'$compid__1479']])
Z([[7],[3,'$compid__1480']])
Z([[10],[[7],[3,'anonymousState__temp2']]])
Z([3,'renderCardView'])
Z([[7],[3,'$compid__1481']])
Z([[2,'>'],[[6],[[7],[3,'bannerUrls']],[3,'length']],[1,0]])
Z([[7],[3,'$compid__1482']])
Z([[7],[3,'$compid__1483']])
Z([[7],[3,'$compid__1484']])
Z([[7],[3,'$compid__1485']])
Z([[7],[3,'$compid__1486']])
Z([[7],[3,'$compid__1487']])
Z([[7],[3,'$compid__1488']])
Z([[7],[3,'$compid__1489']])
Z([[7],[3,'$compid__1490']])
Z([[7],[3,'$compid__1491']])
Z([[7],[3,'$compid__1492']])
Z([[7],[3,'$compid__1493']])
Z([[7],[3,'$compid__1494']])
Z([[7],[3,'$compid__1495']])
Z([[7],[3,'$compid__1496']])
Z([[7],[3,'$compid__1497']])
Z([[7],[3,'curShopIsComingSoon']])
Z([[7],[3,'$compid__1498']])
Z([[7],[3,'curCityNoShop']])
Z([[7],[3,'showNetworkBlockTip']])
Z([[7],[3,'$compid__1499']])
Z([[2,'||'],[[7],[3,'shopMaintainResData']],[[7],[3,'menuMaintainResData']]])
Z([[7],[3,'$compid__1500']])
Z([[7],[3,'$compid__1501']])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'showJNActivityPopState']],[1,true]],[[2,'!'],[[7],[3,'loading']]]])
Z([[7],[3,'$compid__1502']])
Z([[2,'&&'],[[7],[3,'isShowIndexToast']],[[7],[3,'indexToastText']]])
Z(z[7])
Z(z[12])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_86_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_86_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_86=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_86=true;
var x=['./pages/index/_index/index.wxml'];d_[x[0]]={}
d_[x[0]]["renderPartyTips"]=function(e,s,r,gg){
var z=gz$gwx_XC_86_1()
var b=x[0]+':renderPartyTips'
r.wxVkey=b
gg.f=$gdc(f_["./pages/index/_index/index.wxml"],"",1)
if(p_[b]){_wl(b,x[0]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[0]]["renderCardView"]=function(e,s,r,gg){
var z=gz$gwx_XC_86_1()
var b=x[0]+':renderCardView'
r.wxVkey=b
gg.f=$gdc(f_["./pages/index/_index/index.wxml"],"",1)
if(p_[b]){_wl(b,x[0]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_86_1()
var x5O=_v()
_(r,x5O)
if(_oz(z,0,e,s,gg)){x5O.wxVkey=1
var o6O=_n('login-wrapper')
_rz(z,o6O,'compid',1,e,s,gg)
var f7O=_mz(z,'view',['class',2,'style',1],[],e,s,gg)
var bGP=_n('header-wrapper')
_rz(z,bGP,'compid',4,e,s,gg)
_(f7O,bGP)
var c8O=_v()
_(f7O,c8O)
if(_oz(z,5,e,s,gg)){c8O.wxVkey=1
var oHP=_v()
_(c8O,oHP)
var xIP=_oz(z,7,e,s,gg)
var oJP=_gd(x[0],xIP,e_,d_)
if(oJP){
var fKP=_1z(z,6,e,s,gg) || {}
var cur_globalf=gg.f
oHP.wxXCkey=3
oJP(fKP,fKP,oHP,gg)
gg.f=cur_globalf
}
else _w(xIP,x[0],6,30)
}
var h9O=_v()
_(f7O,h9O)
if(_oz(z,8,e,s,gg)){h9O.wxVkey=1
var cLP=_n('search')
_rz(z,cLP,'compid',9,e,s,gg)
_(h9O,cLP)
}
var hMP=_n('shop-info')
_rz(z,hMP,'compid',10,e,s,gg)
_(f7O,hMP)
var oNP=_v()
_(f7O,oNP)
var cOP=_oz(z,12,e,s,gg)
var oPP=_gd(x[0],cOP,e_,d_)
if(oPP){
var lQP=_1z(z,11,e,s,gg) || {}
var cur_globalf=gg.f
oNP.wxXCkey=3
oPP(lQP,lQP,oNP,gg)
gg.f=cur_globalf
}
else _w(cOP,x[0],12,26)
var aRP=_n('shop-info-detail')
_rz(z,aRP,'compid',13,e,s,gg)
_(f7O,aRP)
var o0O=_v()
_(f7O,o0O)
if(_oz(z,14,e,s,gg)){o0O.wxVkey=1
var tSP=_n('banner')
_rz(z,tSP,'compid',15,e,s,gg)
_(o0O,tSP)
}
var eTP=_n('product-list')
_rz(z,eTP,'compid',16,e,s,gg)
_(f7O,eTP)
var bUP=_n('collect-tip')
_(f7O,bUP)
var oVP=_n('subscription')
_rz(z,oVP,'compid',17,e,s,gg)
_(f7O,oVP)
var xWP=_n('agreement-box')
_rz(z,xWP,'compid',18,e,s,gg)
_(f7O,xWP)
var oXP=_n('shop-fever')
_(f7O,oXP)
var fYP=_n('mai-zeng-tip')
_rz(z,fYP,'compid',19,e,s,gg)
_(f7O,fYP)
var cZP=_n('shop-status-modal')
_rz(z,cZP,'compid',20,e,s,gg)
_(f7O,cZP)
var h1P=_n('get-coupons')
_rz(z,h1P,'compid',21,e,s,gg)
_(f7O,h1P)
var o2P=_n('give-coupons')
_rz(z,o2P,'compid',22,e,s,gg)
_(f7O,o2P)
var c3P=_n('combo-meal-time-tip')
_rz(z,c3P,'compid',23,e,s,gg)
_(f7O,c3P)
var o4P=_n('shop-state-tip')
_(f7O,o4P)
var l5P=_n('product-detail')
_rz(z,l5P,'compid',24,e,s,gg)
_(f7O,l5P)
var a6P=_n('shopping-bag-detail')
_rz(z,a6P,'compid',25,e,s,gg)
_(f7O,a6P)
var t7P=_n('redemption-select')
_rz(z,t7P,'compid',26,e,s,gg)
_(f7O,t7P)
var e8P=_n('shopping-bag')
_rz(z,e8P,'compid',27,e,s,gg)
_(f7O,e8P)
var b9P=_n('bg-cover')
_rz(z,b9P,'compid',28,e,s,gg)
_(f7O,b9P)
var o0P=_n('activity-tip')
_rz(z,o0P,'compid',29,e,s,gg)
_(f7O,o0P)
var xAQ=_n('loading')
_rz(z,xAQ,'compid',30,e,s,gg)
_(f7O,xAQ)
var cAP=_v()
_(f7O,cAP)
if(_oz(z,31,e,s,gg)){cAP.wxVkey=1
var oBQ=_n('coming-soon')
_rz(z,oBQ,'compid',32,e,s,gg)
_(cAP,oBQ)
}
var oBP=_v()
_(f7O,oBP)
if(_oz(z,33,e,s,gg)){oBP.wxVkey=1
var fCQ=_n('city-no-shop-tip')
_(oBP,fCQ)
}
var lCP=_v()
_(f7O,lCP)
if(_oz(z,34,e,s,gg)){lCP.wxVkey=1
var cDQ=_n('network-error')
_rz(z,cDQ,'compid',35,e,s,gg)
_(lCP,cDQ)
}
var aDP=_v()
_(f7O,aDP)
if(_oz(z,36,e,s,gg)){aDP.wxVkey=1
var hEQ=_n('maintain')
_rz(z,hEQ,'compid',37,e,s,gg)
_(aDP,hEQ)
}
var oFQ=_n('party-type-modal')
_rz(z,oFQ,'compid',38,e,s,gg)
_(f7O,oFQ)
var tEP=_v()
_(f7O,tEP)
if(_oz(z,39,e,s,gg)){tEP.wxVkey=1
var cGQ=_n('activity-jn-pop')
_rz(z,cGQ,'compid',40,e,s,gg)
_(tEP,cGQ)
}
var eFP=_v()
_(f7O,eFP)
if(_oz(z,41,e,s,gg)){eFP.wxVkey=1
}
c8O.wxXCkey=1
h9O.wxXCkey=1
h9O.wxXCkey=3
o0O.wxXCkey=1
o0O.wxXCkey=3
cAP.wxXCkey=1
cAP.wxXCkey=3
oBP.wxXCkey=1
oBP.wxXCkey=3
lCP.wxXCkey=1
lCP.wxXCkey=3
aDP.wxXCkey=1
aDP.wxXCkey=3
tEP.wxXCkey=1
tEP.wxXCkey=3
eFP.wxXCkey=1
_(o6O,f7O)
_(x5O,o6O)
}
x5O.wxXCkey=1
x5O.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_86";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_86();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/_index/index.wxml'] = [$gwx_XC_86, './pages/index/_index/index.wxml'];else __wxAppCode__['pages/index/_index/index.wxml'] = $gwx_XC_86( './pages/index/_index/index.wxml' );
	;__wxRoute = "pages/index/_index/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/index/_index/index.js";define("pages/index/_index/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
(wx.webpackJsonp=wx.webpackJsonp||[]).push([[327],{1218:function(e,t,a){"use strict";a.r(t);var o,n=a(547),r=a.n(n);for(o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t.default=r.a},1892:function(e,t,a){e.exports=a.p+"pages/index/_index/index.wxml"},3489:function(e,t,a){"use strict";a.r(t),a(3490);var o,n=a(1218);for(o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o)},3490:function(e,t,a){"use strict";a(1892)},3491:function(e,t,a){},547:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=U(a(3)),n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],o=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){n=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(n)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a,o=arguments[t];for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e},i=function(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e};function s(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var d,u=a(6),c=a(0),p=U(c),l=a(4),h=U(a(1893)),f=U(a(52)),g=a(31),m=U(a(2)),_=U(a(1)),y=U(a(13)),S=U(a(48)),v=a(25),w=a(19),T=a(20),x=a(27),b=U(a(5)),k=a(17),P=a(15),C=U(a(11)),I=U(a(79)),M=a(1894),N=U(M),A=a(28),B=a(22),O=U(B),D=a(29),$=a(10),L=U(a(9));a(3491);var F=U(a(12)),R=a(71);function U(e){return e&&e.__esModule?e:{default:e}}function E(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function o(n,r){try{var i=t[n](r),s=i.value}catch(n){return void a(n)}if(!i.done)return Promise.resolve(s).then((function(e){o("next",e)}),(function(e){o("throw",e)}));e(s)}("next")}))}}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function H(){var e,t,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,H);for(var i,s,d,u,c,l,f,P,O,U,j,z,W=arguments.length,K=Array(W),q=0;q<W;q++)K[q]=arguments[q];return(e=t=J(this,(e=H.__proto__||Object.getPrototypeOf(H)).call.apply(e,[this].concat(K)))).$usedState=["anonymousState__temp3","anonymousState__temp4","anonymousState__temp5","anonymousState__temp6","anonymousState__temp8","$compid__1477","$compid__1478","$compid__1479","$compid__1480","$compid__1481","$compid__1482","$compid__1483","$compid__1484","$compid__1485","$compid__1486","$compid__1487","$compid__1488","$compid__1489","$compid__1490","$compid__1491","$compid__1492","$compid__1493","$compid__1494","$compid__1495","$compid__1496","$compid__1497","$compid__1498","$compid__1499","$compid__1500","$compid__1501","$compid__1502","isShowPartyTips","anonymousState__temp","anonymousState__temp2","bannerUrls","curShopIsComingSoon","curCityNoShop","showNetworkBlockTip","shopMaintainResData","menuMaintainResData","showJNActivityPopState","loading","isShowIndexToast","indexToastText","menu","ads","viewProductsAds","adsTotalHeight","adsIsInit","license","notice","orderActivityContents","products","showAgreementBox","phone","isVip","initTakeawayStatus","isShowCard","isShowSearch","showPartModel","attachments","soldOutList","newProductPopData","specialList","showFallingPopState","isUpdate","__fn_on","setDidShowFunc","setTabItemTapFunc","setDidHideFunc","setPullDownRefreshFunc","setShareAppMessageFunc","shoppingBagStore","isParty","param","setParamShopId","user","activityStore"],t.initSetHookFunc=function(){var e=(r=t.props).setDidShowFunc,a=r.setTabItemTapFunc,o=r.setDidHideFunc,n=r.setPullDownRefreshFunc,r=r.setShareAppMessageFunc;e(t.didShow),a(t.handleTabItemTap),o(t.didHide),n(t.pullDownRefresh),r(t.handleOnShareAppMessage)},t.didShow=function(){y.default.getInstance().events.trigger(_.default.eventNames.refreshMenuTakeawayState);var e=(0,B.GetRoutePassParamSingleton)().getIndexTakeawayStatus();e&&t.setState({initTakeawayStatus:Number(e||0)||0}),t.state.loading||t.ignoreFetchData||t.fetchData(),t.checkCardStatus(),p.default.setTabBarItem&&t.setTabBarItem(),t.pageIsHide=!1,p.default.showTabBar({animation:!1}),setTimeout((function(){t.firstShowPage=!0}),1e3)},t.pullDownRefresh=function(){p.default.showLoading({title:m.default.getLang("","index").common_loading}),t.fetchData()},t.setTabBarItem=function(){var e=m.default.getLang("","tab");(0,x.setTabBarItem)({index:0,text:e.bar_home}),(0,x.setTabBarItem)({index:1,text:e.bar_index}),(0,x.setTabBarItem)({index:2,text:e.bar_inspiration}),(0,x.setTabBarItem)({index:3,text:e.bar_take}),(0,x.setTabBarItem)({index:4,text:e.bar_my})},t.didHide=function(){var e=t.props.shoppingBagStore,a=e.isShowShoppingBagDetail,o=e.setIsShowShoppingBagDetail;e.setShareProductId,a&&o(),t.pageIsHide=!0},t.checkCardStatus=function(){var e,a=t.state.isShowCard;(e=void 0===(e=((t.props.shoppingBagStore||{}).shop||{}).id)?null:e)!==t.shopId&&("number"!=typeof t.shopId||a||t.setState({isShowCard:!0}),t.shopId=e)},t.goReportPage=function(){p.default.navigateTo({url:_.default.routes.staffCard})},t.showHLBeachShopModal=function(){var e=m.default.getLang("","index"),a=((t.props.shoppingBagStore||{}).shop||{}).id;-1!==[18,306].indexOf(Number(a))&&t.showHLBeachShopModalFlag&&!t.isJNShop&&(t.showHLBeachShopModalFlag=!1,a=18===Number(a)?e.index_beach_shop:e.index_beach_shop_LAB,b.default.showModal({title:e.sett_tip_title_affirm_store,content:a,cancelText:e.sett_btn_cut_store,confirmText:e.sett_btn_isOk_store,confirmColor:"#DBA871",onCancelPress:function(){p.default.redirectTo({url:_.default.routes.chooseShop})},onConfirmPress:function(){}}))},t.showAirportArrive=function(){var e=(t.props.shoppingBagStore||{}).shop;t.airportShopModalFlag&&!t.isJNShop&&(console.log("~~~~~~~~~~~~~~showAirportArrive"),t.airportShopModalFlag=!1,N.default.useBox({key:M.PopCase.INTO_STORE+"_"+M.Position.CODE,codeParam:"",shop:e}).then((function(e){e&&e()})))},t.showShopWarnModal=function(e){t.shopShowWarnModalFlag&&!t.isJNShop&&(console.log("~~~~~~~~~~~~~~showShopWarnModal"),t.shopShowWarnModalFlag=!1,N.default.useBox({key:M.PopCase.INTO_STORE+"_"+M.Position.INDEX,codeParam:"tips="+(t.newInspirationParam&&t.newInspirationParam.tips),shop:e}).then((function(e){e&&e()})))},t.checkShopBeforeClosed=(z=E(o.default.mark((function e(n,r){var i,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.shopBeforeClosedId&&t.shopBeforeClosedId===n){e.next=6;break}return e.next=3,(0,D.getShopBeforeClosed)(n);case 3:i=e.sent,s=i.code,i=i.data,0===s&&i&&i.heyteaPopup&&!r&&(s=i.heyteaPopup,i=void 0===(i=s.content)?"":i,s=void 0===(s=s.title)?"":s,b.default.showModal({title:s,content:i,showCancel:!1,onConfirmPress:function(){t.shopBeforeClosedId=Number(n)}}));case 6:case"end":return e.stop()}}),e,a)}))),function(e,t){return z.apply(this,arguments)}),t.showClosingForNightModal=function(){var e=m.default.getLang("","index"),a=t.props.shoppingBagStore||{},o=a.shop,n=a.takeoutAddress,i=(o||{}).appointable,s=void 0!==i&&i;(a.shopIsClosingForNight||a.shopClosedAndSupportAppoint)&&t.showClosingModalFlag&&(t.showClosingModalFlag=!1,i={},a=function(){n?p.default.navigateTo({url:_.default.routes.chooseTakeawayStore}):p.default.navigateTo({url:_.default.routes.chooseShop})},i=s?{cancelText:e.index_switch_shop,onCancelPress:a,confirmText:e.index_make_appointment,content:m.default.template(e.index_shop_closing_and_appoint,{shop_name:o&&o.name||""}),onConfirmPress:function(){return null}}:{cancelText:e.index_stay_current,confirmText:e.index_switch_shop,onConfirmPress:a},b.default.showModal(r({title:"",content:m.default.template(e.index_shop_closing_for_night,{shop_name:o&&o.name||""}),cancelColor:"#000",confirmColor:"#DBA871"},i)))},t.showOnlyTakeawayModal=function(){var e=m.default.getLang("","index");(t.props.shoppingBagStore||{}).shopIsOnlyTakeaway&&t.showOnlyTakeawayFlag&&(t.showOnlyTakeawayFlag=!1,b.default.showModal({title:e.index_shop_only_takeaway,content:e.index_shop_only_takeaway_tip,cancelText:e.index_stay_current,cancelColor:"#000",confirmColor:"#DBA871",onConfirmPress:function(){p.default.navigateTo({url:_.default.routes.shoppingAddress})},confirmText:e.index_go_takeaway}))},t.showBusyModal=function(){var e=(n=t.props.shoppingBagStore||{}).shopIsBusy,a=n.takeoutAddress,o=(n.shop||{}).shop_type,n=m.default.getLang("","index");e&&t.showBusyModalFlag&&(t.showBusyModalFlag=!1,a?b.default.showModal({title:n.index_shop_busy_title,content:n.index_shop_busy_tip,confirmColor:"#000",showCancel:!1,confirmText:n.common_i_know}):b.default.showModal({title:"GO"===o?n.index_shop_busy_title:n.index_shop_busy_title_normal_take,content:"GO"===o?n.index_shop_busy_tip:n.index_shop_busy_tip_take,cancelText:n.index_stay_current,cancelColor:"#000",confirmColor:"#CE9C65",onConfirmPress:function(){p.default.navigateTo({url:_.default.routes.chooseShop})},confirmText:n.index_switch_shop}))},t.showJNActivityPop=function(){var e=t.props.shoppingBagStore||{},a=e.shopIsOnlyTakeaway;e.shopIsInService&&!t.state.showJNActivityPopState&&!a&&t.isJNShop&&t.setState({showJNActivityPopState:!0},(function(){t.isJNShop=!1}))},t.showFallingPop=function(){var e=(a=t.props.shoppingBagStore||{}).shopIsInService,a=a.shopIsOnlyTakeaway;console.log("~~~~~~~~~~~~~~~~~~~~~~~当打烊",!e),console.log("~~~~~~~~~~~~~~~~~~~~~~~外卖弹窗",a),console.log("~~~~~~~~~~~~~~~~~~~~~~~门店标识",!t.isFallingShop),e&&!a&&t.isFallingShop&&(console.log("~~~~~~~~~~~~~~~~~~~~~~~展示"),t.setState({showFallingPopState:!0,isUpdate:t.state.isUpdate+1},(function(){t.isFallingShop=!1})))},t.showBusyPreMadeModal=function(e){var a=(d=t.props.shoppingBagStore).showInvalidProductsTip,o=d.shoppingBagList,n=d.shopIsBusyButForPreMade,r=d.takeoutAddress,i=d.shop,s=t.props.isParty,d=(i||{}).shop_type;i=m.default.getLang("","index"),!n||(0<(o=o.filter((function(e){return"IShoppingBagItem"===e.type&&1!==e.isPreMade})).map((function(e){return{uniqueId:e.uniqueId,name:e.name}}))).length||e)&&(0<o.length?s?a(o,(function(){}),{source:"party",notJump:!0}):a(o,(function(){})):e&&(r?b.default.showModal({title:i.index_making_busy,content:i.index_busy_but_for_fresh_tip,confirmColor:"#000",showCancel:!1,confirmText:i.common_i_know}):b.default.showModal({title:"GO"===d?i.index_making_busy:i.index_making_busy_normal,content:"GO"===d?i.index_busy_but_for_fresh_tip:i.index_busy_but_for_fresh_tip_normal,cancelText:i.index_switch_shop,cancelColor:"#343434",confirmColor:"#343434",onCancelPress:function(){r?p.default.navigateTo({url:_.default.routes.chooseTakeawayStore}):p.default.navigateTo({url:_.default.routes.chooseShop})},confirmText:i.index_go_order})))},t.handleTabItemTap=function(){!t.tabItemTabThrottleFlag&&t.firstShowPage&&(new Date).getTime()-t.tabItemTabTime<=400&&(t.tabItemTabThrottleFlag=!0,t.state.loading||t.setState({loading:!0}),t.fetchData(),setTimeout((function(){t.tabItemTabThrottleFlag=!1}),1500)),t.firstShowPage=!0,t.tabItemTabTime=(new Date).getTime()},t.fetchData=E(o.default.mark((function e(){var r,i,s,d,u,c,p,l,h,f,v,w,T,x,k,P,C,I,M,N,B,O,F,R,U;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.default.hideLoading(),r=new Date,f=t.props.shoppingBagStore,i=f.shop,s=f.setDefaultShop,k=t.props,v=k.param,d=k.setParamShopId,u=(v||{}).shopId,console.log("~~~~当前门店信息~~~~~~~~~~",JSON.stringify(i)),w=t.props.user,c=w.setUserLocation,T=w.lang,p=m.default.getLang(T,"index"),h=l=null,x=t.props.shoppingBagStore,f=(x||{}).setTakeoutAddress,k=S.default.getInstance().getOMOItems(),v=k.oneMoreOrderItems,w=k.oneMoreOrderAddress,!(v&&0<v.length)){e.next=25;break}if(w)return T=w.id,x=w.latitude,k=w.longitude,C=w.address,I=w.complete_address,e.next=18,(0,D.getClosetStoreWithAddress)({address_id:T,latitude:Number(x),longitude:Number(k),address:C,complete_address:I});e.next=22;break;case 18:0===(C=e.sent).code&&0<(P=C.data).length?(I=n(P,1),C=I[0],4===(I=(0,g.getShopState)(C,1)||0)||7===I||8===I?(f&&f(w),y.default.getInstance().events.trigger(_.default.eventNames.refreshMenuTakeawayState),h=C.id||null):b.default.showToast({title:p.index_address_change_failed,icon:"none",duration:3e3})):b.default.showToast({title:p.index_address_change_failed,icon:"none",duration:3e3}),e.next=25;break;case 22:O=(O=(O=n(v,1))[0]).shopId,h=O;case 25:M=y.default.getInstance().inspirationParam,t.newInspirationParam=M,B=N="",e.t0=!0,e.next=e.t0===(M&&!!M.shopId)?31:e.t0===!!h?34:e.t0===!Number.isNaN(Number(u))?36:e.t0===!Number.isNaN(Number(i.id))?39:41;break;case 31:return l=M.shopId,N=M.qrcodeId||"",e.abrupt("break",42);case 34:return l=h,e.abrupt("break",42);case 36:return l=Number(u),d&&d(),e.abrupt("break",42);case 39:return l=i.id,e.abrupt("break",42);case 41:return e.abrupt("break",42);case 42:return e.next=44,(0,A.getLocation)({isConfirm:!l});case 44:(O=e.sent)&&(F=O.latitude,R=void 0===F?0:F,F=void 0===(F=O.longitude)?0:F,R&&(B=F+","+R,c({longitude:F,latitude:R}))),e.t1=!0,e.next=e.t1===(""===B&&null===l)?49:e.t1===!l?56:61;break;case 49:return e.next=51,t.getShop({location:""});case 51:return U=e.sent,R=(F=U||{}).id,F.is_frequently_used?(setTimeout((function(){b.default.showToast({icon:"none",title:"已为您推荐常用门店，可选择其他门店",duration:3e3})}),2e3),t.firstViewCommonstores||(t.firstViewCommonstores=!0,L.default.event($.IEventName.PRODUCT_SHARE_TO_FRIENDS,"未授权定位推荐常用门店",{type:$.IEventType.TRACK,data:{}}))):(R&&s(R),t.onShowLocationAuthority()),U&&(t.getMenu(U.id),t.getNotices(U.id),t.getAds(U.id),L.default.event($.IEventName.LOAD_SUCCEDD,"小程序首页加载完成",{type:$.IEventType.TRACK,data:{loadTime_var:((new Date).getTime()-r.getTime())/1e3,storeId_var:""+U.id,storeName_var:U.name}})),e.abrupt("break",63);case 56:return e.next=58,t.getShop({shopId:null,location:B});case 58:return(U=e.sent)&&(t.getMenu(U.id),t.getNotices(U.id),t.getAds(U.id),L.default.event($.IEventName.LOAD_SUCCEDD,"小程序首页加载完成",{type:$.IEventType.TRACK,data:{loadTime_var:((new Date).getTime()-r.getTime())/1e3,storeId_var:""+U.id,storeName_var:U.name}})),e.abrupt("break",63);case 61:return t.getShop({shopId:l,location:B}).then((function(e){var a={loadTime_var:((new Date).getTime()-r.getTime())/1e3};e&&e.id&&e.name&&(a.storeId_var=""+e.id,a.storeName_var=e.name),L.default.event($.IEventName.LOAD_SUCCEDD,"小程序首页加载完成",{type:$.IEventType.TRACK,data:a}),e&&e.id&&(t.getMenu(e.id),t.getNotices(e.id),t.getAds(e.id),t.scanQrcodePoint(N,e.id))})),e.abrupt("break",63);case 63:case"end":return e.stop()}}),e,a)}))),t.scanQrcodePoint=(j=E(o.default.mark((function e(n,r){var i,s,d,u,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=t.props.user,i=d.userInfo,s=d.setUser,!n){e.next=17;break}if(i.id){e.next=16;break}return e.next=5,(0,w.getUserInfoJava)();case 5:if(c=e.sent,u=c.code,d=c.data,0===u)return c=t.props.user,u=c.updateGuest,c=d.is_guest,s(d),i=d,u(c),e.next=16,(0,k.setStorage)(_.default.localStorageKeys.guestState,c);e.next=16;break;case 16:L.default.event($.IEventName.QRCODE,"扫二维码进入小程序",{type:$.IEventType.TRACK,data:{sales_plat:"weapp",storeId_var:r,user_id:i.id||"",qr_code_id:n||""}});case 17:case"end":return e.stop()}}),e,a)}))),function(e,t){return j.apply(this,arguments)}),t.networkErrorReloadData=E(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.default.showToast({title:m.default.getLang("","index").common_loading,icon:"none",mask:!0}),t.fetchData();case 2:case"end":return e.stop()}}),e,a)}))),t.onShowLocationAuthority=E(o.default.mark((function e(){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.getUserLocationAuthority)();case 2:if(n=e.sent,t.showLocationAuthority)return e.abrupt("return");e.next=5;break;case 5:t.showLocationAuthority=!0,n?(0,R.showSystemLocationAuthority)({callback:function(){setTimeout(t.setUserLocationAuthority(!0,6))}}):(0,R.showMiniLocationAuthority)((function(){}));case 7:case"end":return e.stop()}}),e,a)}))),t.setUserLocationAuthority=(U=E(o.default.mark((function e(n,r){var i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=r||0,n)return e.next=4,(0,A.getLocation)();e.next=6;break;case 4:(i=e.sent)&&i.latitude?y.default.getInstance().events.trigger(_.default.eventNames.refreshMenu,{clearShop:!0}):0<r&&setTimeout((function(){t.setUserLocationAuthority(n,(r||0)-1)}),1e3);case 6:case"end":return e.stop()}}),e,a)}))),function(e,t){return U.apply(this,arguments)}),t.showNetworkBlock=function(){t.state.showNetworkBlockTip?b.default.showToast({title:m.default.getLang("","index").common_reload_failed,icon:"none"}):t.setState({showNetworkBlockTip:!0})},t.getShareProductId=function(){var e,a=null;return(e=void 0===(e=((t.props||{}).param||{}).productId)?"":e)&&Number(e)&&(a=Number(e)),t.newInspirationParam&&t.newInspirationParam.productId&&(a=Number.isNaN(Number(t.newInspirationParam.productId))?0:Number(t.newInspirationParam.productId)),a},t.getCouponIdParam=function(){var e=(t.props.param||{}).coupon_id,a=0;return Number.isNaN(Number(e))||(a=Number(e)),a},t.getShop=(O=E(o.default.mark((function e(n){var r,i,s,d,u,c=n.shopId,l=void 0===c?null:c,h=void 0===(n=n.location)?"":n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.props.shoppingBagStore,r=u.setShop,i=u.shopIsComingSoon,s=u.openDefaultShop,u=u.defaultShopId,d=!h&&!l||s,u&&u===l&&(l=null),h&&(d=!1),u=function(){var e=E(o.default.mark((function e(){var n,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d)return e.next=4,(0,D.getDefaultShopList)();e.next=7;break;case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,(0,D.getClosetStore)({shopId:l,location:h});case 9:e.t0=e.sent;case 10:if(n=e.t0,b.default.hideLoading(),t.setState({shopMaintainResData:0<=[500001,500002,503001].indexOf(Number(n.code))?n:null}),0===n.code)return s=void 0===(s=n.data)?{}:s,t.apiTimeoutFlag=!1,r(s),t.state.showNetworkBlockTip?t.setState({curCityNoShop:!1,curShopIsComingSoon:!!i,showNetworkBlockTip:!1},(function(){p.default.showTabBar({animation:!1})})):t.setState({curCityNoShop:!1,curShopIsComingSoon:!!i}),setTimeout(E(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.showBusyModal(),t.showBusyPreMadeModal(),t.showOnlyTakeawayModal();case 3:case"end":return e.stop()}}),e,a)}))),400),t.checkBindState(),t.getMemberInfo(),e.next=23,t.getJNActivity(s.id);e.next=35;break;case 23:return e.next=25,t.getChristmas(s.id);case 25:return t.showJNActivityPop(),t.showAirportArrive(),t.showShopWarnModal(s),t.checkShopBeforeClosed(s.id,t.isJNShop),t.showFallingPop(),p.default.canIUse("setTabBarItem")&&t.setTabBarItem(),L.default.postUserBase({type:"show",data:{shop_id:s.id,shop_name:s.name,action_type:"menu"}}),e.abrupt("return",s);case 35:return t.setState({curCityNoShop:1206===n.code,loading:!1}),1206===n.code&&(t.apiTimeoutFlag=!1),-1===[0,1206,1207,1002,401,500001,500002,503001].indexOf(Number(n.code))?t.showNetworkBlock():(p.default.showTabBar({animation:!1}),t.setState({showNetworkBlockTip:!1})),e.abrupt("return",null);case 39:e.next=45;break;case 41:e.prev=41,e.t1=e.catch(0),b.default.hideLoading(),t.showNetworkBlock();case 45:case"end":return e.stop()}}),e,a,[[0,41]])})));return function(){return e.apply(this,arguments)}}(),t.apiTimeoutFlag&&setTimeout((function(){t.apiTimeoutFlag&&(t.apiTimeoutFlag=!1,t.fetchData())}),6e3),e.next=10,u();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,a)}))),function(e){return O.apply(this,arguments)}),t.getMemberInfo=E(o.default.mark((function e(){var n,r,i,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,w.getUserInfoJava)();case 3:if(n=e.sent,i=n.code,s=n.data,r=t.props.user,n=r.updateGuest,0===i)return(0,t.props.user.setUser)(s),r=s.star_level,i=s.phone,s=s.is_guest,0<r&&!i&&t.setState({isVip:r,phone:i}),n(s),e.next=15,(0,k.setStorage)(_.default.localStorageKeys.guestState,s);e.next=15;break;case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(0);case 19:case"end":return e.stop()}}),e,a,[[0,17]])}))),t.judgeAgreement=E(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.judgeAgreement)(1).then((function(e){1251===e.code?(p.default.hideTabBar({animation:!1}),t.setState({showAgreementBox:!0})):t.agreementSure()})).catch((function(e){}));case 2:case"end":return e.stop()}}),e,a)}))),t.checkBindState=function(){(0,v.checkPhoneBindState)().then((function(e){var a=e.code;if(e=e.data,0===a)if(a=e.status,e=e.phone,3===a)t.phoneBindStatus=3,t.setState({phone:e});else if(2===a)return p.default.showTabBarRedDot({index:4}),void y.default.getInstance().events.trigger(_.default.eventNames.openScreenCouponActivity);t.judgeAgreement()})).catch((function(e){t.judgeAgreement()}))},t.agreementSure=function(){t.setState({showAgreementBox:!1}),y.default.getInstance().events.trigger(_.default.eventNames.openScreenCouponReFresh)},t.filterShopActivity=function(e){return e.reduce((function(e,t){if(e.length){if(e.some((function(e){return e.type===t.type})))return e;e.push(t)}else e.push(t);return e}),[])},t.filterProductActivity=function(e,t){var a="";return e.map((function(e){e.product_ids.includes(t)&&(a=e.activity_name)})),a},t.chunkProducts=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=[];try{return e.forEach((function(e){var a,o=void 0===(a=e.data)?[]:a;(a=0<t.length?t[t.length-1]:[]).reduce((function(e,t){return(void 0===(t=t.data)?[]:t).length+e}),0)+o.length<=30?(a.push(e),0===t.length&&t.push(a)):t.push([e])})),t}catch(t){return(0,I.default)(e,5)}},t.checkOneMoreOrder=E(o.default.mark((function e(){var r,i,s,d,u,c,p,l,h,f,v;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=t.props.shoppingBagStore,r=(p||{}).setTakeoutAddress,i=m.default.getLang("","index"),l=S.default.getInstance().getOMOItems(),s=l.oneMoreOrderItems,d=l.oneMoreOrderAddress,!(s&&0<s.length)){e.next=33;break}if(d)return u=d.id,c=d.latitude,p=d.longitude,l=d.address,f=d.complete_address,e.next=9,(0,D.getClosetStoreWithAddress)({address_id:u,latitude:Number(c),longitude:Number(p),address:l,complete_address:f});e.next=30;break;case 9:if(0!==(f=e.sent).code){e.next=27;break}if(!(0<(h=f.data).length)){e.next=24;break}if(f=n(h,1),v=f[0],4===(f=(0,g.getShopState)(v,1)||0)||7===f||8===f)return r&&r(d),y.default.getInstance().events.trigger(_.default.eventNames.refreshMenuTakeawayState),e.abrupt("return",v.id||null);e.next=21;break;case 21:b.default.showToast({title:i.index_address_change_failed,icon:"none",duration:3e3});case 22:e.next=25;break;case 24:b.default.showToast({title:i.index_address_change_failed,icon:"none",duration:3e3});case 25:e.next=28;break;case 27:b.default.showToast({title:i.index_address_change_failed,icon:"none",duration:3e3});case 28:e.next=33;break;case 30:return v=(v=(v=n(s,1))[0]).shopId,e.abrupt("return",v);case 33:return e.abrupt("return",null);case 34:case"end":return e.stop()}}),e,a)}))),t.getMenu=(P=E(o.default.mark((function e(n){var r,i,s,d,u,c,l,f,g,_,y,S,v,w,T,x,b,k,P,C,I,M,N;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k=t.props,r=k.activityStore,i=k.shoppingBagStore,s=k.isParty,m.default.getLang("","index"),e.next=5,(0,D.getStoreMenu)({shopId:n,menuType:s?1:0});case 5:d=e.sent,P=d.code,u=d.data,c=r.setMemberActivities,l=r.setOrderActivities,f=i.checkShoppingBagList,g=i.getRedemptionsActivity,_=i.checkOneMoreOrder,y=i.partyBagList,S=i.showInvalidProductsTip,v=i.shop,p.default.stopPullDownRefresh(),p.default.hideLoading(),w=[],T=[],e.t0=P,e.next=0===e.t0?16:1125===e.t0?21:1202===e.t0||1703===e.t0?24:500001===e.t0||500002===e.t0||503001===e.t0?28:31;break;case 16:return 0===(C=u.hash_code)||t.menuHashCode!==C?(t.menuHashCode=C,x=new h.default(u,v),b=x.menu,M=x.memberActivities,k=x.actived,P=x.combData,C=x.soldOutList,t.comboData=P,w=x.productsArr,k&&l(k),M&&(c(M),T=M),I=t.chunkProducts(w),M=function e(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;I.length>a&&t.setState((function(e){(e=e.products||[]).push.apply(e,function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(I[a]))}),(function(){return e(a+1)}))},t.setState({menu:b,products:I[0],loading:!1,menuMaintainResData:null},M),t.setState({soldOutList:C})):(N=t.state.products,w=N||[],t.setState({loading:!1,menuMaintainResData:null})),_(n,w,T),t.checkPartyOrder(),e.abrupt("break",34);case 21:return t.menuHashCode=0,t.setState({curShopIsComingSoon:!0,menu:[],products:[],loading:!1,menuMaintainResData:null}),e.abrupt("break",34);case 24:return t.menuHashCode=0,t.setState({menu:[],products:[],loading:!1,menuMaintainResData:null}),e.abrupt("break",34);case 28:return t.menuHashCode=0,t.setState({loading:!1,menuMaintainResData:d}),e.abrupt("break",34);case 31:return t.menuHashCode=0,t.setState({curShopIsComingSoon:!1,menu:[],products:[],loading:!1,menuMaintainResData:null}),e.abrupt("break",34);case 34:if(s)return e.next=37,f(n,w,{bagList:y||[]});e.next=41;break;case 37:N=e.sent,S(N.invalidProducts,(function(){}),{notJump:!0,source:"party"}),e.next=42;break;case 41:f(n,w);case 42:g({isParty:s}),t.checkPartyTips(),e.next=51;break;case 46:e.prev=46,e.t1=e.catch(0),t.menuHashCode=0,p.default.hideLoading(),p.default.stopPullDownRefresh();case 51:case"end":return e.stop()}}),e,a,[[0,46]])}))),function(e){return P.apply(this,arguments)}),t.getNotices=(f=E(o.default.mark((function e(n){var r,i,s,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,D.getStoreNotices)({shopId:n});case 3:0===(s=e.sent).code&&(d=s.data,i=d.notice,r=void 0===i?[]:i,s=d.license,i=void 0===s?[]:s,s=void 0===(s=d.activity_texts)?[]:s,d=void 0===(d=d.attachments)?[]:d,t.setState({notice:r||[],license:i||[],attachments:d,orderActivityContents:s||[]})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,a,[[0,7]])}))),function(e){return f.apply(this,arguments)}),t.getAds=(l=E(o.default.mark((function e(n){var i,s,d,u,c,p,l,h;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,D.getStoreAds)({shopId:n});case 3:if(i=e.sent,i=(s=(void 0===(d=(u=i||{}).data)?{}:d)||{}).hash_code,s=void 0===(d=s.shop_advertise)?[]:d,0!==u.code||!s||!s.filter){e.next=21;break}if(i===t.adsHash)return e.abrupt("return");e.next=9;break;case 9:t.adsHash=i,d=0,u=(s||[]).filter((function(e){return"share"===e.position})),t.shareTitle="",t.shareImgUrl=_.default.shareImgURL,0<u.length&&(h=u[u.length-1],u=void 0===(u=h.image_url)?_.default.shareImgURL:u,h=h.content,t.shareImgUrl=u,t.shareTitle=h||""),0<(c=t.sortAds(s||[])||[]).length&&(C.default.getSysInfo().screenWidth,C.default.getLayoutRatio(),p=310*C.default.getLayoutRatio(),l=16*C.default.getLayoutRatio(),d=c.reduce((function(e,t){var a=void 0===(o=t.image_width)?"548":o,o=void 0===(o=t.image_height)?"611":o;return"swiper"===(void 0===(t=t.view_type)?"":t)||0<Number(a)&&0<Number(o)?e+l+p:e}),0)+l||0),clearTimeout(t.adsTimeOut),h=c.map((function(e){var t=r({},e);return e&&(t.view_type="extempore"),t})),t.setState({ads:s||[],adsTotalHeight:Math.ceil(d),viewProductsAds:h,adsIsInit:!0}),t.adsTimeOut=setTimeout((function(){t.setState({viewProductsAds:c})}),200);case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(0);case 25:case"end":return e.stop()}}),e,a,[[0,23]])}))),function(e){return l.apply(this,arguments)}),t.getJNActivity=(c=E(o.default.mark((function e(n){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,D.getJNActivity)({shopId:n});case 5:(r=e.sent).data&&0===r.code&&(0===r.data.length||p.default.getStorageSync("JNRecord")&&p.default.getStorageSync("JNRecord")===(new Date).getDate()||(t.isJNShop=!0,t.setState({newProductPopData:r.data[0]}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),F.default.pointScriptError({error:e.t0,page:"pages/index/index"});case 12:case"end":return e.stop()}}),e,a,[[2,9]])}))),function(e){return c.apply(this,arguments)}),t.getChristmas=(u=E(o.default.mark((function e(n){var r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("~~~~~~~~~~getChristmas",n),n){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,(0,D.getStoreAds)({shopId:n});case 6:i=e.sent,i=void 0===(i=((void 0===(i=(r=i||{}).data)?{}:i)||{}).shop_advertise)?[]:i,0===r.code&&i&&i.filter&&(0<(i=(i||[]).filter((function(e){return"special-effect"===e.position}))).length&&!t.isJNShop&&(t.isFallingShop=!0),console.log("~~~~~~~~~~~~~specialListspecialListspecialList",i),t.setState({specialList:i})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),F.default.pointScriptError({error:e.t0,page:"pages/index/index"});case 15:case"end":return e.stop()}}),e,a,[[3,12]])}))),function(e){return u.apply(this,arguments)}),t.checkLocalStorageShop=E(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t.props.shoppingBagStore||{}).takeoutAddress?p.default.navigateTo({url:_.default.routes.chooseTakeawayStore}):p.default.navigateTo({url:_.default.routes.chooseShop});case 3:case"end":return e.stop()}}),e,a)}))),t.checkPartyOrder=function(){var e=(a=(o=t.props||{}).user||{}).autoPartyOrder,a=a.setAutoPartyOrder,o=void 0===(o=(o.param||{}).partyOrder)?"":o;(!t.partyOrderCheck&&"auto"===o||e)&&(t.partyOrderCheck=!0,t.clickPartyButton(),a&&a(!1))},t.sortAds=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],a=[],o={};return t.imgIndexNumber+=1,e.map((function(e){var n=e.ad_position_index;"product"===e.position&&(e.view_type="img",o[e.ad_position_index]?(o[e.ad_position_index].list.push(JSON.parse(JSON.stringify(e))),a[o[e.ad_position_index].index].view_type="swiper",a[o[e.ad_position_index].index].img_items=o[e.ad_position_index].list):(a.push(JSON.parse(JSON.stringify(e))),o[e.ad_position_index]={keys:t.imgIndexNumber.toString()+n,index:a.length-1,list:[e]}))})),a},t.changeTitleName=function(e){p.default.setNavigationBarTitle({title:" "})},t.onProductPositioning=function(e,a){var o=t.props.shoppingBagStore.setScrollIntoView,r=(s=t.state||{}).soldOutList,i=void 0===r?{}:r,s=a||"p-index-list-pro-"+e;if(!a&&0!==e){a=t.state.products;var d=!1,u=0;if(a.map((function(t){var a=t.id;t=(t=(t=i&&i[a]||[])&&t.slice&&t.slice(1)||[])?t.filter((function(t){return t.id===e})):[],(t=n(t,1)[0])&&0===u&&(t.has_stock||(d=!0,u=a))})),d)return void y.default.getInstance().events.trigger(_.default.eventNames.openCategorySoldOutMore,{category_id:u,product_id:e})}o(s)},t.onClickPartyButton=function(){var e=(t.props.user||{}).checkLoginPipeline;e&&e({triggerPath:_.default.routes.menu,loginCallBack:t.clickPartyButton})},t.clickPartyButton=(d=E(o.default.mark((function e(n,r){var i,s,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L.default.postUserBase({type:"click",data:{eventId:"1.3.2.1"}}),s=m.default.getLang("","party"),i=s.party_error_tips,t.partyCheckIng)return e.abrupt("return");e.next=6;break;case 6:t.partyCheckIng=!0;case 7:return e.next=9,(0,T.checkPartyOrderNo)();case 9:d=e.sent,d=(s=d||{}).data,0===(s=s.code)?t.getPartyStatus(d):4028===s&&b.default.showToast({icon:"none",title:i}),t.partyCheckIng=!1;case 13:case"end":return e.stop()}}),e,a)}))),function(e,t){return d.apply(this,arguments)}),t.checkPartyShopLimitCup=function(e){var a,o=(a=m.default.getLang("","party")).party_keep,n=a.party_max_cup_tips,r=a.party_reselect;return(a=void 0===(a=e.limit_cup)?0:a)<=6&&(b.default.showModal({content:m.default.template(n,{cup:a}),cancelText:r,cancelColor:"#000000",confirmText:o,confirmColor:"#DEB07F",onConfirmPress:function(){t.clickSelfPart(e,{noCheckCup:!0})}}),!0)},t.clickSelfPart=(s=E(o.default.mark((function e(n,r){var i,s,d,u,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t.props.user,i=void 0!==(c=(s=r||{}).noCheckShop)&&c,c=void 0!==(d=s.noCheckCup)&&d,s=(u||{}).setPartyOrder,!(d=(n||{}).id)||!n){e.next=14;break}if(!c&&t.checkPartyShopLimitCup(n))return e.abrupt("return");e.next=7;break;case 7:if(!i&&t.checkPartyShopStatus(n))return e.abrupt("return");e.next=9;break;case 9:return e.next=11,(0,T.creatPartyOrderNo)({shop_id:d});case 11:u=e.sent,u=void 0===(u=(c=u||{}).data)?null:u,0===(void 0===(c=c.code)?-1:c)&&(c=void 0===(c=(u||{}).uniqueId)?"":c,t.hidePartTypeModel(),s&&s(u),c&&p.default.navigateTo({url:_.default.routes.partyOrder+"?no="+c}));case 14:case"end":return e.stop()}}),e,a)}))),function(e,t){return s.apply(this,arguments)}),t.clickTakeawayPart=(i=E(o.default.mark((function e(n,r,i){var s,d,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t.props.user,s=(u||{}).setPartyOrder,n&&r)return e.next=5,(0,T.creatPartyOrderNo)({shop_id:n,address_id:r});e.next=8;break;case 5:d=e.sent,d=void 0===(d=(u=d||{}).data)?null:d,0===(void 0===(u=u.code)?-1:u)&&(u=void 0===(u=(d||{}).uniqueId)?"":u,s&&s(d),i&&u&&p.default.navigateTo({url:_.default.routes.partyOrder+"?no="+u}),t.hidePartTypeModel());case 8:case"end":return e.stop()}}),e,a)}))),function(e,t,a){return i.apply(this,arguments)}),t.checkPartyShopStatus=function(e){var a=!1,o=m.default.getLang("","common"),n=m.default.getLang("","party"),r=n.party_keep,i=n.party_reselect,s=n.party_shop_closing_for_night,d=n.party_making_busy,u=n.party_shop_busy_change_title,c=n.party_shop_busy_tip;return e&&(e.name,1!==(n=(0,g.getShopState)(e,0))&&8!==n||(a=!0,b.default.showModal({title:s,content:"",cancelColor:"#000",confirmColor:"#DBA871",confirmText:o.common_ok,showCancel:!1})),3===n&&(b.default.showModal({title:u,content:c,showCancel:!1,confirmColor:"#DBA871",confirmText:i}),a=!0),4===n&&(b.default.showModal({title:d,content:"",cancelText:i,cancelColor:"#343434",confirmText:r,confirmColor:"#DBA871",onConfirmPress:function(){t.clickSelfPart(e,{noCheckCup:!0,noCheckShop:!0})}}),a=!0)),a},t.getPartyStatus=function(e){var a=(t.props.user||{}).setPartyOrder,o=void 0===(n=(r=e||{}).status)?0:n,n=void 0===(n=r.orderStatus)?"":n,r=r.orderNo;e?void 0!==r&&r?"CANCELED"===n||"TRADE_CLOSED"===n?t.showPartTypeModel():t.showSelectOrder(e):o<2?(a&&a(e),e=void 0===(e=(e||{}).uniqueId)?"":e,p.default.navigateTo({url:_.default.routes.partyOrder+"?no="+e})):t.showPartTypeModel():t.showPartTypeModel()},t.showPartTypeModel=function(){t.pageIsHide||(t.setState({showPartModel:!0}),p.default.hideTabBar({animation:!0}))},t.hidePartTypeModel=function(){t.setState({showPartModel:!1}),p.default.showTabBar({animation:!0})},t.showSelectOrder=function(e){var a=void 0===(e=(s=e||{}).orderNo)?"":e,o=void 0===(e=s.uniqueId)?"":e,n=void 0===(s=s.userId)?0:s,r=((t.props.user||{}).userInfo||{}).id,i=t,s=m.default.getLang("","party");b.default.showModal({title:s.party_order_in_progress,content:"",confirmText:s.party_view,confirmColor:"#DEB07F",cancelText:s.party_agin_order,cancelColor:"#000000",onCancelPress:function(){i.showPartTypeModel()},onConfirmPress:function(){r===n?p.default.navigateTo({url:_.default.routes.teaOrderDetail+"?orderNo="+a}):p.default.navigateTo({url:_.default.routes.partyOrder+"?no="+o})}})},t.checkPartyTips=E(o.default.mark((function e(){var n,r,i,s,d,u,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,i=n.shoppingBagStore,r=n.isParty,n=void 0!==r&&r,r=t.state||{},i=(i||{}).shopIsComingSoon,r.curCityNoShop||i||n)return e.abrupt("return");e.next=6;break;case 6:return s=_.default||{},d=s.localStorageKeys,u=t.state.isShowPartyTips,s=void 0!==u&&u,u=d.partyTipsNumber,d=void 0===u?"":u,e.next=11,(0,k.getStorage)(d);case 11:u=e.sent,(u=Number(u||0)+1)<2&&!s&&(c=t,setTimeout((function(){c.setState({isShowPartyTips:!0})}),5e3),setTimeout((function(){c.setState({isShowPartyTips:!1})}),1e4),(0,k.setStorage)(d,u));case 14:case"end":return e.stop()}}),e,a)}))),t.closeCard=function(e){e.stopPropagation(),t.setState({isShowCard:!1})},t.handleRedierctChooseStore=function(){t.setState({isShowRnPermissionPop:!1}),p.default.navigateTo({url:_.default.routes.chooseShop})},t.handleCloseRnPremissToSetting=function(){t.setState({isShowRnPermissionPop:!1})},t.handleToggleSearch=function(e){t.setState({isShowSearch:e})},t.customComponents=["LoginWrapper","HeaderWrapper","Search","ShopInfo","ShopInfoDetail","Banner","ProductList","CollectTip","Subscription","AgreementBox","ShopFever","MaiZengTip","ShopStatusModal","GetCoupons","GiveCoupons","ComboMealTimeTip","ShopStateTip","ProductDetail","ShoppingBagDetail","RedemptionSelect","ShoppingBag","BgCover","ActivityTip","Loading","ComingSoon","CityNoShopTip","NetworkError","Maintain","PartyTypeModal","ActivityJNPop"],J(t,e)}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(H,c.Component),i(H,[{key:"_constructor",value:function(e){(function e(t,a,o){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(o):void 0:null!==(t=Object.getPrototypeOf(t))?e(t,a,o):void 0})(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"_constructor",this).call(this,e),this.imgIndexNumber=1,this.firstShowPage=!1,this.partyCheckIng=!1,this.pageIsHide=!1,this.showLocationAuthority=!1,this.firstViewCommonstores=!1,this.newInspirationParam=null,this.menuHashCode=0,this.apiTimeoutFlag=!0,this.partyOrderCheck=!1,this.state={loading:!0,curCityNoShop:!1,curShopIsComingSoon:!1,menu:[],ads:[],viewProductsAds:[],adsTotalHeight:0,adsIsInit:!1,license:[],notice:[],orderActivityContents:[],products:[],showAgreementBox:!1,showNetworkBlockTip:!1,phone:"",isVip:0,menuMaintainResData:null,shopMaintainResData:null,initTakeawayStatus:0,isShowCard:!0,isShowSearch:!1,showPartModel:!1,isShowPartyTips:!1,attachments:null,soldOutList:{},showJNActivityPopState:!1,newProductPopData:{},specialList:[],showFallingPopState:!1,isUpdate:0},this.tabItemTabTime=(new Date).getTime(),this.tabItemTabThrottleFlag=!1,this.localErrorModalFlag=!1,this.ignoreFetchData=!1,this.showBusyModalFlag=!0,this.showClosingModalFlag=!0,this.airportShopModalFlag=!0,this.showOnlyTakeawayFlag=!0,this.showHLBeachShopModalFlag=!0,this.showJNActivityPopFlag=!1,this.shareImgUrl=_.default.shareImgURL,this.shareTitle="",this.menuHashCode=0,this.showOnlyTakeawayFlag=!0,this.shopShowWarnModalFlag=!0,this.apiTimeoutFlag=!0,this.comboData=null,this.flage=!1,this.isJNShop=!1,this.handleOnShareAppMessage=this.handleOnShareAppMessage.bind(this),this.$$refs=new p.default.RefsArray}},{key:"componentDidMount",value:function(){var e=this;this.initSetHookFunc();try{this.fetchData(),this.didShow()}catch(e){}y.default.getInstance().events.on(_.default.eventNames.refreshMenu,(function(t){var a=e.state.loading;e.showBusyModalFlag=!0,e.airportShopModalFlag=!0,e.showClosingModalFlag=!0,e.showHLBeachShopModalFlag=!0,e.showOnlyTakeawayFlag=!0,e.shopShowWarnModalFlag=!0,setTimeout((function(){e.showBusyPreMadeModal(!0)}),500),a||e.setState({loading:!0}),e.fetchData(t)})),y.default.getInstance().events.on(_.default.eventNames.hidePartyTypeMode,(function(){e.hidePartTypeModel()}))}},{key:"componentWillUnmount",value:function(){y.default.getInstance().events.off(_.default.eventNames.refreshMenu),y.default.getInstance().events.off(_.default.eventNames.bindPhoneModal)}},{key:"handleOnShareAppMessage",value:function(e){var t,a,o,n={title:this.shareTitle||m.default.getLang("","index").index_share_content,path:_.default.routes.menu,imageUrl:this.shareImgUrl,bgImgUrl:this.shareImgUrl};return"button"!==e.from||(o=O.default.getInstance().shareProductData)&&(t=void 0===(a=o.name)?"":a,a=void 0===(e=o.productId)?1:e,e=void 0===(e=o.imgUrl)?"":e,o=o.skuId,n={title:t,path:_.default.routes.menu+"?productId="+a,imageUrl:e,bgImgUrl:e},L.default.event($.IEventName.PRODUCT_SHARE_TO_FRIENDS,"分享商品给好友",{type:$.IEventType.TRACK,data:{goodsName_var:t,goodsId_var:""+a,goodsSpecifId_var:""+o}})),n}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var e=this.$prefix,t=(0,c.genCompid)(e+"$compid__1477"),a=($e=n(t,2))[0],o=$e[1],r=(0,c.genCompid)(e+"$compid__1478"),i=(Se=n(r,2))[0],s=Se[1],d=(0,c.genCompid)(e+"$compid__1479"),u=(Le=n(d,2))[0],p=Le[1],l=(0,c.genCompid)(e+"$compid__1480"),h=(ve=n(l,2))[0],f=ve[1],g=(0,c.genCompid)(e+"$compid__1481"),m=(Fe=n(g,2))[0],y=Fe[1],S=(0,c.genCompid)(e+"$compid__1482"),v=(we=n(S,2))[0],w=we[1],T=(0,c.genCompid)(e+"$compid__1483"),x=(Te=n(T,2))[0],b=Te[1],k=(0,c.genCompid)(e+"$compid__1484"),P=(Re=n(k,2))[0],C=Re[1],I=(0,c.genCompid)(e+"$compid__1485"),M=(xe=n(I,2))[0],N=xe[1],A=(0,c.genCompid)(e+"$compid__1486"),B=(be=n(A,2))[0],O=be[1],D=(0,c.genCompid)(e+"$compid__1487"),$=(ke=n(D,2))[0],L=ke[1],F=(0,c.genCompid)(e+"$compid__1488"),R=(Pe=n(F,2))[0],U=Pe[1],E=(0,c.genCompid)(e+"$compid__1489"),J=(Ce=n(E,2))[0],H=Ce[1],j=(0,c.genCompid)(e+"$compid__1490"),z=(Ie=n(j,2))[0],W=Ie[1],K=(0,c.genCompid)(e+"$compid__1491"),q=(Ue=n(K,2))[0],G=Ue[1],V=(0,c.genCompid)(e+"$compid__1492"),Q=(Me=n(V,2))[0],X=Me[1],Z=(0,c.genCompid)(e+"$compid__1493"),Y=(Ne=n(Z,2))[0],ee=Ne[1],te=(0,c.genCompid)(e+"$compid__1494"),ae=(Ae=n(te,2))[0],oe=Ae[1],ne=(0,c.genCompid)(e+"$compid__1495"),re=(Be=n(ne,2))[0],ie=Be[1],se=(0,c.genCompid)(e+"$compid__1496"),de=(Oe=n(se,2))[0],ue=Oe[1],ce=(0,c.genCompid)(e+"$compid__1497"),pe=(De=n(ce,2))[0],le=De[1],he=(0,c.genCompid)(e+"$compid__1498"),fe=(Ee=n(he,2))[0],ge=Ee[1],me=(0,c.genCompid)(e+"$compid__1499"),_e=(Je=n(me,2))[0],ye=Je[1],Se=(t=(0,c.genCompid)(e+"$compid__1500"),r=($e=n(t,2))[0],$e[1]),ve=(d=(0,c.genCompid)(e+"$compid__1501"),l=(Le=n(d,2))[0],Le[1]),we=(g=(0,c.genCompid)(e+"$compid__1502"),S=(Fe=n(g,2))[0],Fe[1]),Te=(T=this.__state).loading,xe=(k=T.menu,I=void 0===(Re=T.ads)?[]:Re,T.adsTotalHeight),be=(A=T.viewProductsAds,T.license),ke=(D=T.products,T.notice),Pe=(F=T.orderActivityContents,T.curCityNoShop),Ce=(E=T.curShopIsComingSoon,T.showAgreementBox),Ie=(j=T.showNetworkBlockTip,T.phone,T.shopMaintainResData),Me=(K=T.menuMaintainResData,V=void 0!==(Ue=T.adsIsInit)&&Ue,T.initTakeawayStatus),Ne=(T.isShowRnPermissionPop,Z=T.isShowSearch,T.showPartModel),Ae=(te=T.isShowPartyTips,T.attachments),Be=(ne=T.soldOutList,T.showJNActivityPopState),Oe=(se=T.newProductPopData,T.specialList,T.showFallingPopState,T.isUpdate),De=(ce=this.__props||{}).user,$e=(he=ce.shoppingBagStore,me=void 0!==(Ee=ce.isParty)&&Ee,t=void 0===(Je=ce.param)?{}:Je,he.isOverseasShop),Le=(d=he.shop,he.shopMonetaryUnit),Fe=(g=he.takeoutAddress,he.indexToastText),Re=he.isShowIndexToast,Ue=(T=void 0===(Ue=(t||{}).needCode)?"0":Ue,Oe=De.userInfo,ce=void 0===(Ee=(d||{}).id)?0:Ee,t=void 0===(Je=Oe.phone)?"":Je,I.filter((function(e){return"index"===e.position}))),Ee=(De=this.getCouponIdParam(),this.getShareProductId()),Je=(Oe=te?this._createPartyTipsData(e+"ihgzzzzzzz")():null,this._createCardViewData(e+"ihhzzzzzzz")());return I=(0,c.internal_inline_style)({}),te="1"===T,e=E?0<ke.length:null,T=Ne&&!_.default.isJapan(d.country_code),Ne=Boolean(Z),c.propsManager.set({identityPath:_.default.routes.menu},o,a),c.propsManager.set({isParty:me,isShowSearch:Z,handleToggleSearch:this.handleToggleSearch,curCityNoShop:Pe,clickPartyButton:this.onClickPartyButton},s,i),Ne&&c.propsManager.set({isParty:me,products:D,onProductPositioning:this.onProductPositioning,curCityNoShop:Pe,handleToggleSearch:this.handleToggleSearch},p,u),c.propsManager.set({isParty:me,isShowSearch:Z,handleToggleSearch:this.handleToggleSearch,notices:ke,initTakeawayStatus:Me,changeTitleName:this.changeTitleName},f,h),c.propsManager.set({licenses:be,notices:ke,attachments:Ae,orderActivityContents:F},y,m),0<Ue.length&&c.propsManager.set({imgUrls:Ue},w,v),c.propsManager.set({shareProductId:Ee,notices:ke,menu:k,products:D,viewProductsAds:A,banners:Ue,adsTotalHeight:xe,onProductPositioning:this.onProductPositioning,adsIsInit:V,isParty:me,soldOutList:ne},b,x),c.propsManager.set({curCityNoShop:Pe},C,P),c.propsManager.set({show:Ce,sureAction:this.agreementSure,type:1,isHK:$e},N,M),c.propsManager.set({currentPath:_.default.routes.index},O,B),c.propsManager.set({comboData:this.comboData,shop:d,orderState:g?1:0},L,$),c.propsManager.set({couponId:De},U,R),c.propsManager.set({shopId:ce,nohadPhone:!t},H,J),c.propsManager.set({showPage:"Menu"},W,z),c.propsManager.set({isParty:me,shareImgUrl:this.shareImgUrl},G,q),c.propsManager.set({isParty:me},X,Q),c.propsManager.set({products:D,shoppingBagStore:he,shopMonetaryUnit:Le,isParty:me},ee,Y),c.propsManager.set({isParty:me,needCode:te},oe,ae),c.propsManager.set({isParty:me},ie,re),c.propsManager.set({isParty:me},ue,de),c.propsManager.set({loading:Te},le,pe),E&&c.propsManager.set({hasNotice:e},ge,fe),j&&c.propsManager.set({onReload:this.networkErrorReloadData},ye,_e),(Ie||K)&&c.propsManager.set({result:Ie||K,reFetchData:this.fetchData},Se,r),c.propsManager.set({shop:d,showPartModel:T,hidePartTypeModel:this.hidePartTypeModel,takeoutAddress:g,clickSelfPart:this.clickSelfPart,clickTakeawayPart:this.clickTakeawayPart},ve,l),Be&&!Te&&c.propsManager.set({showJNActivityPopState:Be,scrollProduct:this.onProductPositioning,newProductPopData:se},we,S),Object.assign(this.__state,{anonymousState__temp3:I,anonymousState__temp4:te,anonymousState__temp5:e,anonymousState__temp6:T,anonymousState__temp8:Ne,$compid__1477:o,$compid__1478:s,$compid__1479:p,$compid__1480:f,$compid__1481:y,$compid__1482:w,$compid__1483:b,$compid__1484:C,$compid__1485:N,$compid__1486:O,$compid__1487:L,$compid__1488:U,$compid__1489:H,$compid__1490:W,$compid__1491:G,$compid__1492:X,$compid__1493:ee,$compid__1494:oe,$compid__1495:ie,$compid__1496:ue,$compid__1497:le,$compid__1498:ge,$compid__1499:ye,$compid__1500:Se,$compid__1501:ve,$compid__1502:we,anonymousState__temp:Oe,anonymousState__temp2:Je,bannerUrls:Ue,isShowIndexToast:Re,indexToastText:Fe}),this.__state}},{key:"_createPartyTipsData",value:function(e){return function(){var e=m.default.getLang("","party").party_new_tips,t=_.default.hosts.cdn,a={top:(0,P.checkIsIPhoneXSeries)()?"96px":"72px"};return{anonymousState__temp7:(0,c.internal_inline_style)(a),cdn:t,party_new_tips:e}}}},{key:"_createCardViewData",value:function(e){var t=this;return function(){var e=void 0!==(a=(((t.props||{}).shoppingBagStore||{}).shop||{}).health_report_switch)&&a,a=void 0===(o=(n=t.state).loading)||o,o=void 0===(o=n.isShowCard)||o,n=(n.attachments,"");return e&&!a&&o&&(n+=" p-index-card-show"),{cssName:n,cdn:_.default.hosts.cdn}}}}]),i=d=H,d.$$events=["goReportPage","closeCard"],d.$$componentPath="pages/index/_index/index",i.defaultProps={user:f.default.user},i=(0,u.__decorate)([(0,l.inject)("user","shoppingBagStore","activityStore"),l.observer],i),t.default=i,Component(a(0).default.createComponent(i))}},[[3489,0,1,2,3]]]);
},{isPage:false,isComponent:true,currentFile:'pages/index/_index/index.js'});require("pages/index/_index/index.js");