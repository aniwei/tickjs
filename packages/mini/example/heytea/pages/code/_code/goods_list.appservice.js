$gwx_XC_51=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_51 || [];
function gz$gwx_XC_51_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_51_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_51_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_51_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'$taroCompReady']])
Z([3,'mall-goods-list'])
Z([[7],[3,'anonymousState__temp10']])
Z([3,'_anonIdx2'])
Z([3,'combo'])
Z([[7],[3,'loopArray546']])
Z([3,'id'])
Z([[6],[[7],[3,'combo']],[3,'$compid__1519']])
Z([[7],[3,'anonymousState__temp11']])
Z([3,'index'])
Z([3,'goods'])
Z([[7],[3,'loopArray547']])
Z([3,'$loopState__temp6'])
Z(z[0])
Z([[2,'||'],[[2,'<'],[[7],[3,'index']],[1,3]],[[7],[3,'openStatus']]])
Z([[6],[[7],[3,'goods']],[3,'$compid__1520']])
Z([[6],[[7],[3,'goods']],[3,'refundBtn']])
Z([[6],[[7],[3,'goods']],[3,'$compid__1521']])
Z([[2,'>'],[[2,'+'],[[6],[[7],[3,'goodslist']],[3,'length']],[[6],[[7],[3,'heyteaSetItem']],[3,'length']]],[1,3]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_51_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_51_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_51=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_51=true;
var x=['./pages/code/_code/goods_list.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_51_1()
var cYF=_v()
_(r,cYF)
if(_oz(z,0,e,s,gg)){cYF.wxVkey=1
var oZF=_n('view')
_rz(z,oZF,'class',1,e,s,gg)
var l1F=_v()
_(oZF,l1F)
if(_oz(z,2,e,s,gg)){l1F.wxVkey=1
var e4F=_v()
_(l1F,e4F)
var b5F=function(x7F,o6F,o8F,gg){
var c0F=_n('goods-set-meal')
_rz(z,c0F,'compid',7,x7F,o6F,gg)
_(o8F,c0F)
return o8F
}
e4F.wxXCkey=4
_2z(z,5,b5F,e,s,gg,e4F,'combo','_anonIdx2','id')
}
var a2F=_v()
_(oZF,a2F)
if(_oz(z,8,e,s,gg)){a2F.wxVkey=1
var hAG=_v()
_(a2F,hAG)
var oBG=function(oDG,cCG,lEG,gg){
var tGG=_v()
_(lEG,tGG)
if(_oz(z,13,oDG,cCG,gg)){tGG.wxVkey=1
var eHG=_v()
_(tGG,eHG)
if(_oz(z,14,oDG,cCG,gg)){eHG.wxVkey=1
var bIG=_n('view')
var xKG=_n('goods-item')
_rz(z,xKG,'compid',15,oDG,cCG,gg)
_(bIG,xKG)
var oJG=_v()
_(bIG,oJG)
if(_oz(z,16,oDG,cCG,gg)){oJG.wxVkey=1
var oLG=_n('order-button')
_rz(z,oLG,'compid',17,oDG,cCG,gg)
_(oJG,oLG)
}
oJG.wxXCkey=1
oJG.wxXCkey=3
_(eHG,bIG)
}
else{eHG.wxVkey=2
}
eHG.wxXCkey=1
eHG.wxXCkey=3
}
tGG.wxXCkey=1
tGG.wxXCkey=3
return lEG
}
hAG.wxXCkey=4
_2z(z,11,oBG,e,s,gg,hAG,'goods','index','$loopState__temp6')
}
var t3F=_v()
_(oZF,t3F)
if(_oz(z,18,e,s,gg)){t3F.wxVkey=1
}
l1F.wxXCkey=1
l1F.wxXCkey=3
a2F.wxXCkey=1
a2F.wxXCkey=3
t3F.wxXCkey=1
_(cYF,oZF)
}
cYF.wxXCkey=1
cYF.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_51";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_51();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/code/_code/goods_list.wxml'] = [$gwx_XC_51, './pages/code/_code/goods_list.wxml'];else __wxAppCode__['pages/code/_code/goods_list.wxml'] = $gwx_XC_51( './pages/code/_code/goods_list.wxml' );
	;__wxRoute = "pages/code/_code/goods_list";__wxRouteBegin = true;__wxAppCurrentFile__="pages/code/_code/goods_list.js";define("pages/code/_code/goods_list.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
(wx.webpackJsonp=wx.webpackJsonp||[]).push([[64],{1093:function(t,e,n){"use strict";n.r(e);var o,r=n(423),a=n.n(r);for(o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=a.a},1766:function(t,e,n){t.exports=n.p+"pages/code/_code/goods_list.wxml"},3125:function(t,e,n){"use strict";n.r(e),n(3126);var o,r=n(1093);for(o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o)},3126:function(t,e,n){"use strict";n(1766)},3127:function(t,e,n){},423:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,o=arguments[e];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(o=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);o=!0);}catch(t){r=!0,a=t}finally{try{!o&&u.return&&u.return()}finally{if(r)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var u=n(0),s=p(u),l=p(n(1)),c=n(22),d=n(32);function p(t){return t&&t.__esModule?t:{default:t}}function f(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}n(3127);var y=l.default.hosts.cdn,g=l.default.routes;function _(){var t,e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e=m(this,(t=_.__proto__||Object.getPrototypeOf(_)).call.apply(t,[this].concat(o)))).$usedState=["anonymousState__temp9","loopArray546","loopArray547","heyteaSetItem","goodslist","openStatus","cdn","anonymousState__temp10","anonymousState__temp11"],e.anonymousFunc0Map={},e.customComponents=["GoodsSetMeal","GoodsItem","OrderButton"],m(e,t)}d.orderStatus.WAIT_BUYER_PAY,d.orderStatus.CANCELED,function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(_,s.default.Component),a(_,[{key:"_constructor",value:function(t){(function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0!==(r=r.get)?r.call(o):void 0:null!==(e=Object.getPrototypeOf(e))?t(e,n,o):void 0})(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"_constructor",this).call(this,t),this.$$refs=new s.default.RefsArray}},{key:"_createData",value:function(){var t=this;this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var e,n,a=this.$prefix,i=(n=this.__props||{}).mallGoods,l=n.heyteaItem,p=void 0===(e=n.heyteaSetItem)?[]:e,m=n.type,_=void 0!==(O=n.showRefund)&&O,h=n.orderNo,v=void 0===h?"":h,b=(0,u.useState)(!1),$=(e=r(b,2))[0],S=e[1],O=(0,u.useState)([]),N=(n=r(O,2))[0],A=n[1];function w(t){var e=void 0===(n=(o=t||{}).refund_status)?"":n,n=void 0===(n=o.refundOrderNo)?"":n,o=void 0===(o=o.status)?"":o;(0,c.GetRoutePassParamSingleton)().mallRefundGoods={refundOrderNo:v,goods:[t]},e===d.orderRefund.NO_REFUND||e===d.orderRefund.CANCEL?o!==d.orderStatus.BUYER_PAY&&o!==d.orderStatus.STORE_SURE_GOODS?s.default.navigateTo({url:g.refundType+"?orderNo="+v+"&isAgain=false"}):s.default.navigateTo({url:g.refundApplyMall+"?pagefrom="+d.refundTypeRouter.SHOPPING_MALL+"&refundType=2&goodStateN=2"}):s.default.navigateTo({url:g.refundDetails+"?refundOrderNo="+n})}return(0,u.useEffect)((function(){var t="MALL"===m?i&&i.map((function(t){return o({id:t.id,itemCount:t.itemCount,itemNo:t.itemNo,image:t.thumbnail,name:t.itemName,desc:t.newItemAttribute||t.itemAttribute,price:t.salePrice,discountPrice:Number(t.payFee)===Number(t.originalPrice)?0:t.payFee,quantity:t.itemCount},t)})):l&&l.map((function(t){return{id:t.id,itemCount:t.quantity,itemNo:t.sku_id,image:t.images.data[0].url,name:t.name,desc:[].concat(f(t.materials.data.map((function(t){return t.name}))),f(t.specifications.data.map((function(t){return t.value})))).join(","),price:t.price,discountPrice:t.discount_price,quantity:t.quantity,activity_type:t.activity_type}}));A((function(){return t}))}),[m,i,l]),this.anonymousFunc1=function(){return S((function(){return!$}))},h=3<N.length+p.length?$?(0,d.getLang)().order_list_close:(0,d.getLang)().order_list_open:null,b=Boolean(p.length),e=Boolean(N.length),O=Boolean(p.length)?p.map((function(t,e){var n=(c=(t={$original:(0,u.internal_get_original)(t)}).$original||{}).items,o=c.id,i=n&&n.data.map((function(t){return{image:t.images&&t.images.data&&t.images.data[0].url,name:t.activity_name,desc:[].concat(f(t.materials.data.map((function(t){return t.name}))),f(t.specifications.data.map((function(t){return t.value})))).join(","),price:t.price,discountPrice:t.discount_price,quantity:t.quantity}})),s=Boolean(p.length)?Number(t.$original.total_price):null,l=Boolean(p.length)?Number(t.$original.discount_price):null,c=(0,u.genCompid)(a+"ijgzzzzzzz"+e,!0);return c=(e=r(c,2))[0],e=e[1],u.propsManager.set({setMealName:t.$original.set_name,unit:"￥",totalPrice:s,totalDiscount:l,quantity:t.$original.quantity,setMealGoodsLists:i,showBottomLine:!0},e,c),{items:n,id:o,setMealGoodsLists:i,$loopState__temp2:s,$loopState__temp4:l,$compid__1519:e,$original:t.$original}})):[],n=Boolean(N.length)?N.map((function(e,n){var i=null,s=null,l=(e={$original:(0,u.internal_get_original)(e)}).$original||{},c=l.refund_status,p=void 0===c?"":c,f=l.status,y=void 0===f?"":f,g=l.itemNo,h=l.refundBtnShow,v=_&&"MALL"===m;_&&(v=!(!h&&(h||p===d.orderRefund.NO_REFUND||p===d.orderRefund.CANCEL)));var b=p===d.orderRefund.NO_REFUND||p===d.orderRefund.CANCEL?d.orderButton.applyRefund:d.orderButton.lookRefunding,S="ijfzz"+n;return t.anonymousFunc0Map[S]=w.bind(t,e.$original),(n<3||$)&&(s=Boolean(N.length)?"goodlist_"+e.$original.id:null,i=Boolean(N.length)?"HEYTEA"===m&&0<e.$original.discountPrice?1===Number(e.$original.activity_type)?2:1:0:null),c=(0,u.genCompid)(a+"ijhzzzzzzz"+n,!0),l=(f=r(c,2))[0],c=f[1],(n<3||$)&&u.propsManager.set({unit:"￥",itemNo:g,image:e.$original.image,name:e.$original.name,desc:e.$original.desc,price:e.$original.price,discountPrice:e.$original.discountPrice,quantity:e.$original.quantity,showTag:i},c,l),f=(0,u.genCompid)(a+"ijizzzzzzz"+n,!0),f=(l=r(f,2))[0],l=l[1],(n<3||$)&&v&&u.propsManager.set(o({},b,{fontSize:22,width:136,height:56,onClick:t.anonymousFunc0.bind(t,S)}),l,f),{itemNo:g,refundBtnShow:h,refund_status:p,status:y,refundBtn:v,refundButton:b,$loopState__temp8:i,$loopState__temp6:s,_$indexKey:S,$compid__1520:c,$compid__1521:l,$original:e.$original}})):[],Object.assign(this.__state,{anonymousState__temp9:h,loopArray546:O,loopArray547:n,heyteaSetItem:p,goodslist:N,openStatus:$,cdn:y,anonymousState__temp10:b,anonymousState__temp11:e}),this.__state}},{key:"anonymousFunc0",value:function(t){for(var e,n=arguments.length,o=Array(1<n?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return this.anonymousFunc0Map[t]&&(e=this.anonymousFunc0Map)[t].apply(e,o)}},{key:"anonymousFunc1",value:function(t){}}]),a=l=_,l.$$events=["anonymousFunc1"],l.$$componentPath="pages/code/_code/goods_list",a=a,e.default=a,Component(n(0).default.createComponent(a))}},[[3125,0,1,2,3]]]);
},{isPage:false,isComponent:true,currentFile:'pages/code/_code/goods_list.js'});require("pages/code/_code/goods_list.js");