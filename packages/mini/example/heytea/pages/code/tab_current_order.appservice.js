$gwx_XC_68=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_68 || [];
function gz$gwx_XC_68_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_68_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_68_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_68_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'$taroCompReady']])
Z([3,'p-tab-current-order'])
Z([[2,'>'],[[6],[[7],[3,'records']],[3,'length']],[1,0]])
Z(z[1])
Z([1,true])
Z([[7],[3,'anonymousState__temp']])
Z([[6],[[7],[3,'seckillOrder']],[3,'isActive']])
Z([[7],[3,'$compid__1292']])
Z([3,'index'])
Z([3,'record'])
Z([[7],[3,'loopArray403']])
Z(z[8])
Z([[6],[[7],[3,'record']],[3,'$compid__1290']])
Z([[6],[[7],[3,'record']],[3,'$compid__1291']])
Z([[7],[3,'isBottom']])
Z([3,'p-tab-current-default'])
Z(z[6])
Z([[7],[3,'$compid__1293']])
Z([[2,'!'],[[7],[3,'upNeedLogin']]])
Z([[7],[3,'upNeedLogin']])
Z([[7],[3,'$compid__1294']])
Z([[7],[3,'showWalletPayModal']])
Z([[7],[3,'$compid__1295']])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'>'],[[6],[[7],[3,'records']],[3,'length']],[1,0]],[[2,'!=='],[[6],[[6],[[7],[3,'records']],[1,0]],[3,'orderType']],[1,'S']]],[[6],[[7],[3,'records']],[1,0]]],[[2,'!=='],[[6],[[6],[[7],[3,'records']],[1,0]],[3,'status']],[[6],[[7],[3,'OrderStatus']],[3,'WAIT_BUYER_PAY']]]])
Z([[7],[3,'$compid__1296']])
Z([[7],[3,'anonymousState__temp6']])
Z([[7],[3,'$compid__1297']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_68_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_68_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_68=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_68=true;
var x=['./pages/code/tab_current_order.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_68_1()
var oNK=_v()
_(r,oNK)
if(_oz(z,0,e,s,gg)){oNK.wxVkey=1
var lOK=_n('view')
_rz(z,lOK,'class',1,e,s,gg)
var oTK=_v()
_(lOK,oTK)
if(_oz(z,2,e,s,gg)){oTK.wxVkey=1
var xUK=_mz(z,'scroll-view',['class',3,'scrollY',1,'style',2],[],e,s,gg)
var oVK=_v()
_(xUK,oVK)
if(_oz(z,6,e,s,gg)){oVK.wxVkey=1
var cXK=_n('seckill-entry')
_rz(z,cXK,'compid',7,e,s,gg)
_(oVK,cXK)
}
var hYK=_v()
_(xUK,hYK)
var oZK=function(o2K,c1K,l3K,gg){
var t5K=_n('pull-transverse')
_rz(z,t5K,'compid',12,o2K,c1K,gg)
var e6K=_n('order-card')
_rz(z,e6K,'compid',13,o2K,c1K,gg)
_(t5K,e6K)
_(l3K,t5K)
return l3K
}
hYK.wxXCkey=4
_2z(z,10,oZK,e,s,gg,hYK,'record','index','index')
var fWK=_v()
_(xUK,fWK)
if(_oz(z,14,e,s,gg)){fWK.wxVkey=1
}
oVK.wxXCkey=1
oVK.wxXCkey=3
fWK.wxXCkey=1
_(oTK,xUK)
}
else{oTK.wxVkey=2
var b7K=_n('view')
_rz(z,b7K,'class',15,e,s,gg)
var o8K=_v()
_(b7K,o8K)
if(_oz(z,16,e,s,gg)){o8K.wxVkey=1
var o0K=_n('seckill-entry')
_rz(z,o0K,'compid',17,e,s,gg)
_(o8K,o0K)
}
var x9K=_v()
_(b7K,x9K)
if(_oz(z,18,e,s,gg)){x9K.wxVkey=1
var fAL=_n('current-default')
_(x9K,fAL)
}
o8K.wxXCkey=1
o8K.wxXCkey=3
x9K.wxXCkey=1
x9K.wxXCkey=3
_(oTK,b7K)
}
oTK.wxXCkey=1
oTK.wxXCkey=3
oTK.wxXCkey=3
var aPK=_v()
_(lOK,aPK)
if(_oz(z,19,e,s,gg)){aPK.wxVkey=1
var cBL=_n('need-login-baffle')
_rz(z,cBL,'compid',20,e,s,gg)
_(aPK,cBL)
}
var tQK=_v()
_(lOK,tQK)
if(_oz(z,21,e,s,gg)){tQK.wxVkey=1
var hCL=_n('wallet-pop')
_rz(z,hCL,'compid',22,e,s,gg)
_(tQK,hCL)
}
var eRK=_v()
_(lOK,eRK)
if(_oz(z,23,e,s,gg)){eRK.wxVkey=1
var oDL=_n('order-give-coupons')
_rz(z,oDL,'compid',24,e,s,gg)
_(eRK,oDL)
}
var bSK=_v()
_(lOK,bSK)
if(_oz(z,25,e,s,gg)){bSK.wxVkey=1
var cEL=_n('order-reminder')
_rz(z,cEL,'compid',26,e,s,gg)
_(bSK,cEL)
}
aPK.wxXCkey=1
aPK.wxXCkey=3
tQK.wxXCkey=1
tQK.wxXCkey=3
eRK.wxXCkey=1
eRK.wxXCkey=3
bSK.wxXCkey=1
bSK.wxXCkey=3
_(oNK,lOK)
}
oNK.wxXCkey=1
oNK.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_68";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_68();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/code/tab_current_order.wxml'] = [$gwx_XC_68, './pages/code/tab_current_order.wxml'];else __wxAppCode__['pages/code/tab_current_order.wxml'] = $gwx_XC_68( './pages/code/tab_current_order.wxml' );
	;__wxRoute = "pages/code/tab_current_order";__wxRouteBegin = true;__wxAppCurrentFile__="pages/code/tab_current_order.js";define("pages/code/tab_current_order.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
(wx.webpackJsonp=wx.webpackJsonp||[]).push([[148],{1387:function(e,t,n){"use strict";n.r(t);var r,o=n(715),a=n.n(o);for(r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t.default=a.a},2062:function(e,t,n){e.exports=n.p+"pages/code/tab_current_order.wxml"},3994:function(e,t,n){"use strict";n.r(t),n(3995);var r,o=n(1387);for(r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r)},3995:function(e,t,n){"use strict";n(2062)},3996:function(e,t,n){},715:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=C(n(3)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(0),c=C(s),d=n(4),l=C(n(67)),p=n(20),f=n(15),m=n(32),_=C(n(68)),y=n(17),g=n(28),h=n(42),v=C(n(23)),b=C(n(5)),w=C(n(14)),x=n(1),O=C(x),k=C(n(24)),S=C(n(7));function C(e){return e&&e.__esModule?e:{default:e}}function P(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(o,a){try{var u=t[o](a),i=u.value}catch(o){return void n(o)}if(!u.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(i)}("next")}))}}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(3996);var $=O.default.routes;function M(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,M);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t=L(this,(e=M.__proto__||Object.getPrototypeOf(M)).call.apply(e,[this].concat(r)))).$usedState=["anonymousState__temp","anonymousState__temp2","anonymousState__temp3","anonymousState__temp4","anonymousState__temp5","anonymousState__temp6","loopArray403","$compid__1292","$compid__1293","$compid__1294","$compid__1295","$compid__1296","$compid__1297","records","seckillOrder","isBottom","upNeedLogin","showWalletPayModal","OrderStatus","no_more_text"],t.anonymousFunc0Map={},t.anonymousFunc1Map={},t.anonymousFunc2Map={},t.customComponents=["SeckillEntry","PullTransverse","OrderCard","CurrentDefault","NeedLoginBaffle","WalletPop","OrderGiveCoupons","OrderReminder"],L(t,e)}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(M,c.default.Component),u(M,[{key:"_constructor",value:function(e){(function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);return void 0!==o?"value"in o?o.value:void 0!==(o=o.get)?o.call(r):void 0:null!==(t=Object.getPrototypeOf(t))?e(t,n,r):void 0})(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"_constructor",this).call(this,e),this.$$refs=new c.default.RefsArray}},{key:"_createData",value:function(){var e=this;function t(e){if(!e)return!1;var t=e.is_star_member,n=e.go_exp;return e=e.star_exp,t?0!==n||0!==e:0<n}function n(e){var t=ne.records;b.default.showModal({title:(0,m.getLang)().take_del_modal_title,content:(0,m.getLang)().take_del_modal_content,cancelText:(0,m.getLang)("common").common_cancel,onConfirmPress:function(){var n=t,r=n[e].no;(0,p.postDelOrder)(r).then((function(t){if(0===(void 0===(t=(t||{}).code)?-1:t))return n.splice(e,1),void re({records:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n))});b.default.showToast({icon:"none",title:(0,m.getLang)().take_del_fail_text})}))}})}this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var u,i,c,d,O=this.$prefix,C=(0,s.genCompid)(O+"$compid__1292"),L=(X=a(C,2))[0],M=X[1],R=(0,s.genCompid)(O+"$compid__1293"),T=(d=a(R,2))[0],F=d[1],A=(0,s.genCompid)(O+"$compid__1294"),D=(_e=a(A,2))[0],N=_e[1],z=(0,s.genCompid)(O+"$compid__1295"),E=(we=a(z,2))[0],j=we[1],I=(0,s.genCompid)(O+"$compid__1296"),G=(xe=a(I,2))[0],K=xe[1],W=(0,s.genCompid)(O+"$compid__1297"),B=(Oe=a(W,2))[0],U=Oe[1],Y=(ke=this.__props).refresh,H=ke.onCancelOrder,q=ke.refreshAll,J=ke.onCheckMainData,V=ke.setChristmasReminder,Q=(Se=(0,v.default)("code")).loading_text,X=(C=Se.no_more_text,(0,f.getPageRemainingHeight)(171,!0,!0)),Z=(0,s.useRef)(Date.now()),ee=(0,s.useRef)(null),te=(0,s.useRef)(!1),ne=(R=(0,s.useReducer)((function(e,t){return o({},e,t)}),{showWalletPayModal:!1,records:[],orderRemainingTimeList:[],isBottom:!1,upNeedLogin:!1,seckillOrder:{count:0,isActive:!1},isShowOrderGiveCoupons:!1,isShowOrderReminder:!1,reminderData:void 0,isMainland:!1}),(d=a(R,2))[0]),re=d[1],oe=(0,s.useCallback)((u=P(r.default.mark((function t(n){var o,a,u=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===(o=n.reduce((function(e,t){return t.id?e?e+","+t.id:t.id:e}),"")))return e.abrupt("return",void 0);e.next=4;break;case 4:return u&&b.default.showLoading({title:Q}),e.next=7,(0,p.fetchOrderRemainingTime)({query:o+""});case 7:if(a=e.sent,u&&b.default.hideLoading(),0===a.code&&a.data)return e.abrupt("return",a.data);e.next=11;break;case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),u&&b.default.hideLoading(),k.default.script(e.t0,"pages/code/tab_current_order",{method:"getOrderRemainingTime"}),e.abrupt("return",void 0);case 19:case"end":return e.stop()}}),t,e,[[0,14]])}))),function(e){return u.apply(this,arguments)}),[Q]),ae=(0,s.useCallback)(P(r.default.mark((function t(){var n,o=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o&&b.default.showLoading({title:Q}),e.next=4,(0,p.fetchCurrentOrder)();case 4:if(n=e.sent,J(n),o&&b.default.hideLoading(),0===n.code&&n.data)return Z.current=Date.now(),re({upNeedLogin:!1}),e.abrupt("return",n.data);e.next=11;break;case 11:if(401011===n.code||-1===n.code)return re({upNeedLogin:!0}),e.abrupt("return");e.next=14;break;case 14:return e.abrupt("return",void 0);case 17:return e.prev=17,e.t0=e.catch(0),o&&b.default.hideLoading(),k.default.script(e.t0,"pages/code/tab_current_order",{method:"getCurrentOrderList"}),e.abrupt("return",void 0);case 22:case"end":return e.stop()}}),t,e,[[0,17]])}))),[Q]),ue=(0,s.useCallback)((function(){ae().then((function(e){e&&re({isBottom:e.current>=e.pages,records:e.records})}))}),[ae]),ie=(0,s.useCallback)((function(e){b.default.showModal({content:(0,m.getLang)().cancel_order_notice,cancelText:(0,m.getLang)().common_cancel,confirmText:(0,m.getLang)().common_confirm,onConfirmPress:function(){H&&H(e)}})}),[H]),se=(0,s.useCallback)((function(e){ee.current=e,re({showWalletPayModal:!0})}),[]),ce=(A=(0,s.useCallback)((function(){var e;1<l.default.paymentData.length?(e=l.default.paymentData.find((function(e){return"WEAPP"===e.payType||"APP"===e.payType})))?l.default.wechatPayFlow(e).then((function(e){e&&fe()})):(e=l.default.paymentData.find((function(e){return"ALIPAY"===e.payType})))&&l.default.alipayPayFlow(e).then((function(e){e&&fe()})):(fe(),l.default.paymentSuccess(l.default.orderNo))}),[]),(0,s.useCallback)((function(){ue()}),[ue])),de=(0,s.useCallback)((function(e){"O"===e.orderType?w.default.to($.teaOrderDetail+"?orderNo="+e.no+"&isTakeaway="+e.is_takeaway):w.default.to($.mallOrderDetail+"?orderNo="+e.no)}),[]),le=(0,s.useRef)(),pe=(i=P(r.default.mark((function t(n){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"string"==typeof n&&0<n.length)return e.next=4,(0,p.getIsOrderPay)(n);e.next=14;break;case 4:if(0!==e.sent.code){e.next=10;break}le.current&&clearTimeout(le.current),fe(),e.next=14;break;case 10:if(5<o)return le.current&&clearTimeout(le.current),e.abrupt("return");e.next=13;break;case 13:le.current=setTimeout((function(){pe(n,o+1)}),1e3);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),k.default.script(e.t0,"pages/code/tab_current_order#isOrderPay");case 19:case"end":return e.stop()}}),t,e,[[0,16]])}))),function(e){return i.apply(this,arguments)}),fe=(c=P(r.default.mark((function n(){var o,a,u,i,s,c,d,l,f,m,h,v;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.default.showLoading({title:Q}),e.next=3,ae(!1);case 3:if(o=e.sent)return e.next=7,oe(o.records,!1);e.next=60;break;case 7:return a=e.sent,e.next=10,(0,g.getRegion)();case 10:return d="CN"===(d=e.sent),re({isBottom:o.current>=o.pages,records:o.records,orderRemainingTimeList:a,isMainland:d}),e.next=15,(0,y.getStorage)(x.localStorageKeys.makeOrderInfo);case 15:if(u=e.sent,i=(d=u||{}).orderId,s=d.isPaySuccess,c=d.orderNo,d=o.records,u&&u.orderId&&u.isPaySuccess&&d[0]&&d[0].status===_.default.WAIT_BUYER_PAY)return e.next=21,(0,y.setStorage)(x.localStorageKeys.makeOrderInfo,{});e.next=26;break;case 21:return e.sent&&pe(u.orderId),e.abrupt("return");case 26:return e.next=28,(0,y.setStorage)(x.localStorageKeys.makeOrderInfo,{});case 28:return e.next=30,(0,y.getStorage)(x.localStorageKeys.isGrouponPay);case 30:return l=e.sent,e.next=33,(0,y.getStorage)(x.localStorageKeys.shop);case 33:return f=!!(f=e.sent)&&-1!==x.hkCityCode.indexOf(f.city_code),e.next=37,(0,y.getStorage)(x.localStorageKeys.isShowReminder);case 37:if(e.t0=e.sent,e.t0){e.next=40;break}e.t0="";case 40:if(m=e.t0,e.t1=i,e.t1)return e.next=45,ge(i);e.next=45;break;case 45:if(f||l){e.next=59;break}if(!(i&&s&&m)){e.next=58;break}if(te.current)return e.abrupt("return");e.next=49;break;case 49:return e.next=51,(0,p.checkOrderUp)({orderId:i,orderNo:c});case 51:return h=e.sent,h=(v=h||{}).code,v=v.data,e.next=55,(0,y.removeStorage)(x.localStorageKeys.isShowReminder);case 55:0===h?t(v)?(re({reminderData:v,isShowOrderGiveCoupons:!1,isShowOrderReminder:!0}),te.current=!0):re({isShowOrderReminder:!1,isShowOrderGiveCoupons:!0}):re({isShowOrderGiveCoupons:!0}),e.next=59;break;case 58:re({isShowOrderGiveCoupons:!0});case 59:(0,y.setStorage)(x.localStorageKeys.isGrouponPay,!1);case 60:b.default.hideLoading(),me();case 62:case"end":return e.stop()}}),n,e)}))),function(){return c.apply(this,arguments)}),me=function(){(0,h.getSeckillOrderNumber)().then((function(e){var t=e.code;e=e.data,0===t&&re({seckillOrder:{count:(e=e||{}).count,isActive:1===e.isActive}})}))},_e=function(){re({isShowOrderGiveCoupons:!0,isShowOrderReminder:!1})};(0,s.useDidHide)((function(){te.current=!1}));var ye,ge=(ye=P(r.default.mark((function t(n){var o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.checkChristmasReminder)(n);case 2:(o=e.sent)&&0===o.code&&(o=o.data,V(o));case 4:case"end":return e.stop()}}),t,e)}))),function(e){return ye.apply(this,arguments)});(0,s.useEffect)((function(){fe(),S.default.isGuest?re({upNeedLogin:!0}):re({upNeedLogin:!1})}),[Y]);var he=ne.records,ve=(z=ne.seckillOrder,ne.orderRemainingTimeList),be=ne.isMainland,we=ne.isBottom,xe=(I=ne.upNeedLogin,ne.showWalletPayModal),Oe=(W=ne.isShowOrderReminder,ne.isShowOrderGiveCoupons),ke=ne.reminderData,Se=0<he.length?(0,s.internal_inline_style)({height:X}):null;return R=I?""+$.code:null,this.anonymousFunc3=q,d=I?(0,m.getLang)().center_login_need_text1:null,Y=I?(0,m.getLang)().center_login_need_text3:null,X=I?(0,m.getLang)().login_to_see:null,this.anonymousFunc4=function(){return re({showWalletPayModal:!1})},q=W&&ke&&"{}"!==JSON.stringify(ke),W=0<he.length?he.map((function(t,r){var o=(f=(t={$original:(0,s.internal_get_original)(t)}).$original||{}).refund_status,u=f.status,i=!("NO_REFUND"===o&&"TRADE_CLOSED"===u||"NO_REFUND"===o&&"CANCELED"===u||"REFUNDED"===o&&"TRADE_CLOSED"===u),c="ghfzz"+r;e.anonymousFunc0Map[c]=n;var d="ghgzz"+r;e.anonymousFunc1Map[d]=de;var l="ghhzz"+r;e.anonymousFunc2Map[l]=ue;var p=(0,s.genCompid)(O+"ghizzzzzzz"+r,!0),f=(p=(f=a(p,2))[0],f[1]);return 0<he.length&&s.propsManager.set({uniqueValue:r,onDelete:e.anonymousFunc0.bind(e,c),unUse:i},f,p),p=(0,s.genCompid)(O+"ghjzzzzzzz"+r,!0),p=(r=a(p,2))[0],r=r[1],0<he.length&&s.propsManager.set({record:t.$original,type:"current",orderRemainingTimeList:ve,isMainland:be,requestTime:Z.current,onClick:e.anonymousFunc1.bind(e,d),onCountDownFinish:e.anonymousFunc2.bind(e,l),againReCurrentOrder:ue,cancelOrderHandler:ie,walletPayHandler:se,deleteOrder:ce},r,p),{refund_status:o,status:u,delUnuse:i,_$indexKey:c,_$indexKey2:d,_$indexKey3:l,$compid__1290:f,$compid__1291:r,$original:t.$original}})):[],0<he.length&&z.isActive&&s.propsManager.set({count:z.count},M,L),0<he.length||!z.isActive||s.propsManager.set({count:z.count},F,T),I&&s.propsManager.set({nowPage:R,onCallback:this.anonymousFunc3,explainText1:d,explainText2:Y,buttonText:X},N,D),xe&&s.propsManager.set({orderTotal:ee.current&&ee.current.payment||"0",currencyType:ee.current&&ee.current.currency_type||"",onClose:this.anonymousFunc4,paymentSuccess:A},j,E),0<he.length&&"S"!==he[0].orderType&&he[0]&&he[0].status!==_.default.WAIT_BUYER_PAY&&s.propsManager.set({type:"current_order",orderNo:he[0].no||"",canShow:Oe},K,G),q&&s.propsManager.set({data:ke,userInfo:S.default.userInfo,handleCloseReminder:_e},U,B),Object.assign(this.__state,{anonymousState__temp:Se,anonymousState__temp2:R,anonymousState__temp3:d,anonymousState__temp4:Y,anonymousState__temp5:X,anonymousState__temp6:q,loopArray403:W,$compid__1292:M,$compid__1293:F,$compid__1294:N,$compid__1295:j,$compid__1296:K,$compid__1297:U,records:he,seckillOrder:z,isBottom:we,upNeedLogin:I,showWalletPayModal:xe,OrderStatus:_.default,no_more_text:C}),this.__state}},{key:"anonymousFunc0",value:function(e){for(var t,n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this.anonymousFunc0Map[e]&&(t=this.anonymousFunc0Map)[e].apply(t,r)}},{key:"anonymousFunc1",value:function(e){for(var t,n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this.anonymousFunc1Map[e]&&(t=this.anonymousFunc1Map)[e].apply(t,r)}},{key:"anonymousFunc2",value:function(e){for(var t,n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this.anonymousFunc2Map[e]&&(t=this.anonymousFunc2Map)[e].apply(t,r)}},{key:"anonymousFunc3",value:function(e){}},{key:"anonymousFunc4",value:function(e){}}]),u=O=M,O.$$events=[],O.$$componentPath="pages/code/tab_current_order",u=u,t.default=(0,d.inject)("user")((0,d.observer)(u)),Component(n(0).default.createComponent(u))}},[[3994,0,1,2,3]]]);
},{isPage:false,isComponent:true,currentFile:'pages/code/tab_current_order.js'});require("pages/code/tab_current_order.js");