$gwx_XC_99=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_99 || [];
function gz$gwx_XC_99_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_99_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_99_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_99_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'$taroCompReady']])
Z([3,'anonymousFunc0'])
Z([[7],[3,'containerCss']])
Z([[7],[3,'anonymousState__temp2']])
Z([3,'b-index-prod-item-info-wrap'])
Z([3,'b-index-prod-item-info-box'])
Z([[7],[3,'anonymousState__temp13']])
Z([[7],[3,'anonymousState__temp14']])
Z([[7],[3,'anonymousState__temp15']])
Z([3,'b-index-prod-item-price-wrap'])
Z([[7],[3,'discountWrapCss']])
Z([[7],[3,'isShowDiscountPrice']])
Z([[2,'==='],[[7],[3,'is_sold_out_forever']],[1,0]])
Z([[7],[3,'comboLowPriceFlag']])
Z([[2,'&&'],[[7],[3,'has_stock']],[[7],[3,'isTakeawayInvalid']]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'is_single_specification']],[[7],[3,'showSelectSpecBtn']]],[[2,'!'],[[7],[3,'is_combo_product']]]],[[7],[3,'has_stock']]])
Z([[7],[3,'$compid__1448']])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'is_single_specification']]],[[7],[3,'showSelectSpecBtn']]],[[2,'!'],[[7],[3,'is_combo_product']]]],[[7],[3,'has_stock']]])
Z([3,'anonymousFunc3'])
Z([[2,'+'],[1,'b-index-prod-item-sel-spec-z-nml'],[[2,'?:'],[[7],[3,'btnClickable']],[1,''],[1,' b-index-prod-item-sel-spec-z-dis']]])
Z([[2,'+'],[1,''],[[2,'?:'],[[7],[3,'btnClickable']],[1,'b-index-prod-item-sel-spec-hover'],[1,'']]])
Z([1,150])
Z([[2,'>'],[[7],[3,'itemCount']],[1,0]])
Z([[2,'&&'],[[7],[3,'showSelectSpecBtn']],[[7],[3,'is_combo_product']]])
Z([[10],[[7],[3,'anonymousState__temp']]])
Z([3,'renderComboMealMatch'])
Z([[2,'!'],[[7],[3,'has_stock']]])
Z([[7],[3,'anonymousState__temp16']])
Z([[2,'&&'],[[7],[3,'combo_meal_labels']],[[2,'>'],[[6],[[7],[3,'combo_meal_labels']],[3,'length']],[1,0]]])
Z([3,'b-index-prod-item-tip-container'])
Z([[7],[3,'isShowUnIncludeTaxPrice']])
Z([[7],[3,'anonymousState__temp17']])
Z([[7],[3,'anonymousState__temp18']])
Z(z[25])
Z([[7],[3,'anonymousState__temp12']])
Z([3,'anonymousFunc4'])
Z([3,'b-index-prod-item-sel-spec-combo-z-nml'])
Z([3,'b-index-prod-item-sel-spec-hover'])
Z(z[21])
Z(z[22])
Z([[7],[3,'shopIsInService']])
Z([[7],[3,'on_sale_time']])
Z([3,'anonymousFunc5'])
Z([[2,'+'],[1,'b-index-prod-item-sel-spec-combo-z-nml'],[[2,'?:'],[[7],[3,'_$btnClickable2']],[1,''],[1,' b-index-prod-item-sel-spec-z-dis']]])
Z([[2,'+'],[1,''],[[2,'?:'],[[7],[3,'_$btnClickable2']],[1,'b-index-prod-item-sel-spec-hover'],[1,'']]])
Z(z[21])
Z(z[22])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_99_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_99_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_99=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_99=true;
var x=['./pages/index/_index/product_list/product_item.wxml'];d_[x[0]]={}
d_[x[0]]["renderComboMealMatch"]=function(e,s,r,gg){
var z=gz$gwx_XC_99_1()
var b=x[0]+':renderComboMealMatch'
r.wxVkey=b
gg.f=$gdc(f_["./pages/index/_index/product_list/product_item.wxml"],"",1)
if(p_[b]){_wl(b,x[0]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,34,e,s,gg)){oB.wxVkey=1
var xC=_mz(z,'view',['catchtap',35,'class',1,'hoverClass',2,'hoverStayTime',3],[],e,s,gg)
var oD=_v()
_(xC,oD)
if(_oz(z,39,e,s,gg)){oD.wxVkey=1
}
oD.wxXCkey=1
_(oB,xC)
}
else if(_oz(z,40,e,s,gg)){oB.wxVkey=2
var fE=_v()
_(oB,fE)
if(_oz(z,41,e,s,gg)){fE.wxVkey=1
var cF=_mz(z,'view',['catchtap',42,'class',1,'hoverClass',2,'hoverStayTime',3],[],e,s,gg)
var hG=_v()
_(cF,hG)
if(_oz(z,46,e,s,gg)){hG.wxVkey=1
}
hG.wxXCkey=1
_(fE,cF)
}
else{fE.wxVkey=2
}
fE.wxXCkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_99_1()
var c5U=_v()
_(r,c5U)
if(_oz(z,0,e,s,gg)){c5U.wxVkey=1
var o6U=_mz(z,'view',['bindtap',1,'class',1,'style',2],[],e,s,gg)
var l7U=_n('view')
_rz(z,l7U,'class',4,e,s,gg)
var bAV=_n('view')
_rz(z,bAV,'class',5,e,s,gg)
var oBV=_v()
_(bAV,oBV)
if(_oz(z,6,e,s,gg)){oBV.wxVkey=1
}
var xCV=_v()
_(bAV,xCV)
if(_oz(z,7,e,s,gg)){xCV.wxVkey=1
}
oBV.wxXCkey=1
xCV.wxXCkey=1
_(l7U,bAV)
var a8U=_v()
_(l7U,a8U)
if(_oz(z,8,e,s,gg)){a8U.wxVkey=1
}
var oDV=_n('view')
_rz(z,oDV,'class',9,e,s,gg)
var oJV=_n('view')
_rz(z,oJV,'class',10,e,s,gg)
var lKV=_v()
_(oJV,lKV)
if(_oz(z,11,e,s,gg)){lKV.wxVkey=1
}
var aLV=_v()
_(oJV,aLV)
if(_oz(z,12,e,s,gg)){aLV.wxVkey=1
}
var tMV=_v()
_(oJV,tMV)
if(_oz(z,13,e,s,gg)){tMV.wxVkey=1
}
lKV.wxXCkey=1
aLV.wxXCkey=1
tMV.wxXCkey=1
_(oDV,oJV)
var fEV=_v()
_(oDV,fEV)
if(_oz(z,14,e,s,gg)){fEV.wxVkey=1
}
var cFV=_v()
_(oDV,cFV)
if(_oz(z,15,e,s,gg)){cFV.wxVkey=1
var eNV=_n('adder-subtracter')
_rz(z,eNV,'compid',16,e,s,gg)
_(cFV,eNV)
}
var hGV=_v()
_(oDV,hGV)
if(_oz(z,17,e,s,gg)){hGV.wxVkey=1
var bOV=_mz(z,'view',['catchtap',18,'class',1,'hoverClass',2,'hoverStayTime',3],[],e,s,gg)
var oPV=_v()
_(bOV,oPV)
if(_oz(z,22,e,s,gg)){oPV.wxVkey=1
}
oPV.wxXCkey=1
_(hGV,bOV)
}
var oHV=_v()
_(oDV,oHV)
if(_oz(z,23,e,s,gg)){oHV.wxVkey=1
var xQV=_v()
_(oHV,xQV)
var oRV=_oz(z,25,e,s,gg)
var fSV=_gd(x[0],oRV,e_,d_)
if(fSV){
var cTV=_1z(z,24,e,s,gg) || {}
var cur_globalf=gg.f
xQV.wxXCkey=3
fSV(cTV,cTV,xQV,gg)
gg.f=cur_globalf
}
else _w(oRV,x[0],50,38)
}
var cIV=_v()
_(oDV,cIV)
if(_oz(z,26,e,s,gg)){cIV.wxVkey=1
}
fEV.wxXCkey=1
cFV.wxXCkey=1
cFV.wxXCkey=3
hGV.wxXCkey=1
oHV.wxXCkey=1
cIV.wxXCkey=1
_(l7U,oDV)
var t9U=_v()
_(l7U,t9U)
if(_oz(z,27,e,s,gg)){t9U.wxVkey=1
}
var e0U=_v()
_(l7U,e0U)
if(_oz(z,28,e,s,gg)){e0U.wxVkey=1
}
var hUV=_n('view')
_rz(z,hUV,'class',29,e,s,gg)
var oVV=_v()
_(hUV,oVV)
if(_oz(z,30,e,s,gg)){oVV.wxVkey=1
}
var cWV=_v()
_(hUV,cWV)
if(_oz(z,31,e,s,gg)){cWV.wxVkey=1
var oXV=_v()
_(cWV,oXV)
if(_oz(z,32,e,s,gg)){oXV.wxVkey=1
}
oXV.wxXCkey=1
}
oVV.wxXCkey=1
cWV.wxXCkey=1
_(l7U,hUV)
a8U.wxXCkey=1
t9U.wxXCkey=1
e0U.wxXCkey=1
_(o6U,l7U)
_(c5U,o6U)
}
c5U.wxXCkey=1
c5U.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_99";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_99();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/_index/product_list/product_item.wxml'] = [$gwx_XC_99, './pages/index/_index/product_list/product_item.wxml'];else __wxAppCode__['pages/index/_index/product_list/product_item.wxml'] = $gwx_XC_99( './pages/index/_index/product_list/product_item.wxml' );
	;__wxRoute = "pages/index/_index/product_list/product_item";__wxRouteBegin = true;__wxAppCurrentFile__="pages/index/_index/product_list/product_item.js";define("pages/index/_index/product_list/product_item.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
(wx.webpackJsonp=wx.webpackJsonp||[]).push([[340],{1230:function(e,t,o){"use strict";o.r(t);var n,a=o(559),i=o.n(a);for(n in a)"default"!==n&&function(e){o.d(t,e,(function(){return a[e]}))}(n);t.default=i.a},1906:function(e,t,o){e.exports=o.p+"pages/index/_index/product_list/product_item.wxml"},3525:function(e,t,o){"use strict";o.r(t),o(3526);var n,a=o(1230);for(n in a)"default"!==n&&function(e){o.d(t,e,(function(){return a[e]}))}(n)},3526:function(e,t,o){"use strict";o(1906)},3527:function(e,t,o){},559:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,a=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e};function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(o):void 0:null!==(e=Object.getPrototypeOf(e))?r(e,t,o):void 0}var s,u=o(6),p=o(0),c=b(p),l=o(4),d=o(19),m=b(o(1)),_=b(o(2)),y=o(10),g=b(o(9)),h=b(o(13)),f=b(o(5));function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}o(3527);var S=m.default.hosts;function I(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,I);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t=v(this,(e=I.__proto__||Object.getPrototypeOf(I)).call.apply(e,[this].concat(a)))).$usedState=["anonymousState__temp2","anonymousState__temp3","anonymousState__temp10","anonymousState__temp11","anonymousState__temp13","anonymousState__temp14","anonymousState__temp15","anonymousState__temp16","anonymousState__temp17","loopArray502","$compid__1448","containerCss","has_stock","img_url","name_image","hosts","expLables","lineNumber","descCss","discountWrapCss","isShowDiscountPrice","is_sold_out_forever","showDiscountPrice","comboLowPriceFlag","is_single_specification","showSelectSpecBtn","is_combo_product","btnClickable","itemCount","anonymousState__temp","Cfg","combo_meal_labels","isShowUnIncludeTaxPrice","activityLabels","name","description","shopMonetaryUnit","finalPrice","langObj","partyActiveLable","anonymousState__temp18","product","categoryId","categoryName","shoppingBagStore","user","index","activityStore","isParty","isTakeawayInvalid"],t.comboMealWaiMaiTip=function(){var e=t.props.shoppingBagStore.setTakeoutAddress,o=_.default.getLang("","index");f.default.showModal({title:o.common_tips,content:o.combo_meal_no_takeaway_tip,cancelText:o.combo_meal_no_reselect,cancelColor:"#383A3C",confirmColor:"#383A3C",onCancelPress:function(){},confirmText:o.combo_meal_no_takeaway_exchange,onConfirmPress:function(){e(null),h.default.getInstance().events.trigger(m.default.eventNames.refreshMenuTakeawayState)}})},t.onClickSelectSpecificationAction=function(e){var o=e.is_combo_product,n=e.combo_meal_no,a=e.activity_no,i=e.id,r=e.category_id;t.isTakeawayInvalid?t.showUnSupportTakeawayTip():(o?n&&a&&t.goComboMealDetail(e):(t.props.onSelectSpecAction,t.props.onSelectSpecAction(e)),e=void 0===(e=t.props.index)?0:e,g.default.postUserBase({type:"click",data:{eventId:"1.3.5.3",goodsid:i,categoryId:r,index:e}}))},t.onAdderSubtracterAction=function(e,o){var a,i=(q=t.props).shoppingBagStore,r=q.activityStore,s=q.categoryName,u=q.categoryId,p=void 0!==(R=q.isParty)&&R,c=i.shop,l=i.takeoutAddress,d=i.changeShoppingBagItem,m=i.checkSingleProduct,_=i.setIsShowShoppingBagDetail,h=i.shoppingBagSelectedItemUniqueIds,f=i.setShoppingBagSelectedItemUniqueIds,b=i.setIsShowPartyBagDetail,v=i.partyBagSelectedItemUniqueIds,S=r.memberActivities,I=e.skus,k=e.price,w=e.discount_price,P=e.take_self_rate,x=e.tax_rate,C=e.support_takeaway,T=e.name,A=e.id,B=e.is_premade,N=e.has_box_fee,F=e.name_image,M=e.show_trademark,D=e.is_appointment,O=e.activity_ids,j=void 0===O?[]:O,U=e.un_include_tax_price,$=e.un_include_discount_price,E=void 0===$?-1:$,L=e.include_take_self_tax_price,q=void 0===L?0:L,R=p?b:_;i=u+"-"+e.id+"-"+[].join("/")+"-"+[].join("/")+"-"+[].join("/")+"-",t.isTakeawayInvalid?t.showUnSupportTakeawayTip():(O=(r=n(I,1)[0]).id,L=void 0===($=r.is_join_queue)?1:$,_=void 0===(b=r.name)?"":b,$=void 0!==(I=r.is_now_making)&&I,b=r.no,r=I=-1,w&&0<=Number(w)&&(j=n(j,1)[0],a=void 0===j?0:j,(j=S.find((function(e){return e=e.id,a===e})))&&(r=Number(w),I=j.id)),e={type:"IShoppingBagItem",supportTakeaway:1===C,categoryName:s,name:T,sname:_||T,price:{originPrice:Number(k),initNoTaxOriginPrice:Number(U),discountPrice:r,initNoTaxDiscountPrice:Number(E),originDiscountPrice:r,materialPrice:0,unIncludeTaxMaterialPrice:0,takeSelfMaterialPrice:0,redemptionDiscountPrice:-1,unIncludeTaxPrice:Number(U),unIncludeDiscountPrice:Number(E),unIncludeTaxRedemptionDiscountPrice:-1,initNoTaxRedemptionDiscountPrice:0,taxRate:x,takeSelfRate:P,includeTakeSelfTaxPrice:Number(q)},activityId:I,attrs:"",shopId:c.id||0,quantity:1,skuId:O,skuNo:b,categoryId:u,productId:A,attributeIds:[],materialIds:[],materialIdNames:[],specificationIds:[],uniqueId:i,originUniqueId:i,isPreMade:Number(B),isJoinQueue:L,hasBoxFee:Number(N)||0,nameImage:F,showTrademark:M,appointable:D,isNowMaking:$,productImgUrl:e.img_url},o<0&&1<m(O,p)?R():(R=e.uniqueId,(h=p?v:h).push({type:"heytea",uniqueId:R}),-1!==I&&h.push({type:"heytea",uniqueId:R+="-"+I}),f(h,{isParty:p}),d(S,i,o,e,{selectedType:"SP",isParty:p})),g.default.event(0<o?y.IEventName.MENU_ADD:y.IEventName.MENU_REMOVE,0<o?"菜单页加号":"菜单页减号",{type:y.IEventType.TRACK,data:{goodsId_var:""+A,goodsName_var:_,fstCat_var:s,goodsSpecif_var:e.sname,buyWay_var:l?"外卖":"自取",goodsSpecifId_var:""+O}}))},t.submitFormId=function(e){(e=e.detail.formId)&&"the formId is a mock one"!==e&&(0,d.collectFormId)({formId:e})},t.goComboMealDetail=function(e,o){var n,a,i,r,s;t.props.user.hasBoundPhone&&(n=e.combo_meal_no,a=e.activity_no,i=e.support_takeaway,r=(s=t.props).shoppingBagStore,s=void 0!==(e=s.isParty)&&e,e=r.shop,s=s?"&isParty=1":"",!r.takeoutAddress||i&&1===i?c.default.navigateTo({url:m.default.routes.combo+"?shop_id="+e.id+"&activity_no="+a+"&combo_meal_no="+n+"&nav_title="+(o?"1":"0")+s}):t.comboMealWaiMaiTip())},t.getProductGallery=function(){var e=t.props.product.images;return e&&e[0]&&e[0].url?e[0].url:m.default.hosts.cdn+"/img/common/icon_placeholder.png"},t.judgeComboAppointment=function(){var e=(s=t.props).product,o=(p=s.shoppingBagStore).shop,n=p.shopIsInService,a=p.shopClosedAndSupportAppoint,i=void 0===(u=o.business_time_list)?[]:u,r=o.appointable,s=e.appointment_type,u=void 0===(p=e.current_time)?"":p,p=(o=e.appointable,e.on_sale_time);return e=i.find((function(e){return 1===e.type})),i=!1,1===s?i=!!o&&(a||!p&&r&&n):2===s?!e||1<(s=u.split(" ")).length&&(s=s[1])>=e.openAt+":00"&&s<=e.closeAt+":00"&&(i=!!o&&(a||!p&&r&&n)):!e||1<(u=u.split(" ")).length&&((u=u[1])<e.openAt+":00"||u>e.closeAt+":00")&&(i=!!o&&(a||!p&&r&&n)),i},t.customComponents=["AdderSubtracter"],v(t,e)}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(I,p.Component),a(I,[{key:"_constructor",value:function(){r(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"_constructor",this).apply(this,arguments),this.$$refs=new c.default.RefsArray}},{key:"shouldComponentUpdate",value:function(e){return e.product!==this.props.product||e.itemCount!==this.props.itemCount||e.categoryId!==this.props.categoryId||e.categoryName!==this.props.categoryName}},{key:"showUnSupportTakeawayTip",value:function(){var e=(o=this.props).product,t=o.shoppingBagStore.showIndexToast,o="抱歉，该商品暂不支持外送，欢迎您来门店购买，敬请谅解。";"string"==typeof e.disable_takeaway_tip&&(o=e.disable_takeaway_tip),t(o,3e3)}},{key:"triggerEvent",value:function(e,t){h.default.getInstance().events.trigger(e,t)}},{key:"_createData",value:function(){var e=this;this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var t=this.$prefix,o=(0,p.genCompid)(t+"$compid__1448"),a=(L=n(o,2))[0],i=L[1],r=(q=this.__props).shoppingBagStore,s=q.user,u=r.shopIsInService,l=r.shopIsBusyButForPreMade,d=r.shopIsClosingForNight,y=r.shopClosedAndSupportAppoint,g=r.shopIsBusy,h=r.shopMonetaryUnit,f=r.isAppointmentStatus,b=r.shopIsOnlyTakeaway,v=r.isShowUnIncludeTaxPrice,I=r.shop,k=r.takeoutAddress,w=void 0!==(R=r.openDefaultShop)&&R,P=s.hasBoundPhone,x=s.lang,C=_.default.getLang(x,"index"),T=(z=this.__props).product,A=z.itemCount,B=T.name,N=T.name_image,F=T.show_trademark,M=T.description,D=T.img_url,O=T.is_premade,j=T.labels,U=T.support_takeaway,$=T.price,E=T.discount_price,L=(o=T.un_include_tax_price,T.un_include_discount_price),q=T.has_stock,R=(r=T.is_single_specification,T.is_sold_out_forever),z=(P=T.is_appointment,s=T.is_combo_product,x=T.combo_meal_labels,T.product_activity_info),W=T.activity_ids,J=[],G=[],K=void 0;j&&0<j.length&&(z&&0<W.length&&J.push({name:z,id:0,label_color:""}),j.forEach((function(e){e.type&&2===e.type?J.push(e):e.type&&3===e.type?K=e:2!==e.type&&3!==e.type&&G.push(e)})),0<G.length&&1!==U&&(G=G.concat({name:C.index_no_support_delivery,id:10086,label_color:"#DBA871"}))),W=!!(E&&0<=Number(E)),z=0<G.length?"b-index-prod-item "+(v?" b-index-prod-item-has-labels-tip":" b-index-prod-item-has-labels"):"b-index-prod-item "+(v&&" b-index-prod-item-has-tip"),j=u;var Q=q;return d||y?Q=j=!(!f||!q||!P):R&&1===R?Q=j=!1:l?(j=!0,Q=1===Number(O)&&q):(g||b)&&(Q=j=!1),0===I.support_takeaway&&k&&(Q=j=!1),w&&(Q=j=!1),this.isTakeawayInvalid&&(Q=!1),U=S.cdn+"/img/common/round_add_disabled.png",Q&&(U=S.cdn+"/img/common/round_add_normal.png"),u="b-index-prod-item-discount-price-wrap",E&&$&&10<=E.toString().length+$.toString().length&&(u="b-index-prod-item-discount-price-wrap-column"),d="b-index-prod-item-info-desc",y=2,R&&1===R&&(d+=" b-index-prod-item-info-desc-line3",y=3),f="",P=!1,$&&(-1<$.indexOf("+")?(f=""+Number($.replace("+","")),P=!0):f=v&&o?""+Number(o):""+Number($)),l=W&&0===R,O=0<G.length?140:120,g=v?2*O+20:2*O,b={height:c.default.pxTransform(g)},I=v?L:E,k=j&&s?this._createComboMealMatchData(t+"ibjzzzzzzz")():null,w=(0,p.internal_inline_style)(b),this.anonymousFunc0=function(){return e.onClickSelectSpecificationAction(T)},o=Boolean(G&&G.length)?(0,p.internal_inline_style)({}):null,$=l?""+h+Number(I).toFixed(2):null,O=r&&j&&!s&&q?S.cdn+"/img/common/round_minus.png":null,this.anonymousFunc1=function(){e.isTakeawayInvalid&&e.showUnSupportTakeawayTip(),Q&&e.onAdderSubtracterAction(T,1)},this.anonymousFunc2=function(){Q&&e.onAdderSubtracterAction(T,-1)},this.anonymousFunc3=function(t){Q&&(e.onClickSelectSpecificationAction(T),t.stopPropagation&&t.stopPropagation()),e.isTakeawayInvalid&&e.showUnSupportTakeawayTip()},g=Boolean(N),L=Boolean(F),E=Boolean(G&&G.length),t=Boolean(K&&K.id),b=Boolean(J)&&0<J.length,I=Boolean(J),F=E?G.map((function(e,t){var o,n=(o=(e={$original:(0,p.internal_get_original)(e)}).$original).label_color,a=o.name,i=o.id;return{label_color:n,labelName:a,labelID:i,lColor:o=n||"#DBA871",$loopState__temp5:Boolean(G&&G.length)?""+i:null,$loopState__temp7:Boolean(G&&G.length)?(0,p.internal_inline_style)({backgroundColor:o}):null,$loopState__temp9:Boolean(G&&G.length)?(0,p.internal_inline_style)({color:n}):null,$original:e.$original}})):[],r&&j&&!s&&q&&p.propsManager.set({addImg:U,minusImg:O,onAddAction:this.anonymousFunc1,onMinusAction:this.anonymousFunc2,count:A},i,a),Object.assign(this.__state,{anonymousState__temp2:w,anonymousState__temp3:o,anonymousState__temp10:$,anonymousState__temp11:O,anonymousState__temp13:g,anonymousState__temp14:L,anonymousState__temp15:E,anonymousState__temp16:t,anonymousState__temp17:b,loopArray502:F,$compid__1448:i,containerCss:z,has_stock:q,img_url:D,name_image:N,hosts:S,expLables:G,lineNumber:y,descCss:d,discountWrapCss:u,isShowDiscountPrice:l,is_sold_out_forever:R,showDiscountPrice:W,comboLowPriceFlag:P,is_single_specification:r,showSelectSpecBtn:j,is_combo_product:s,btnClickable:Q,itemCount:A,anonymousState__temp:k,Cfg:m.default,combo_meal_labels:x,isShowUnIncludeTaxPrice:v,activityLabels:J,name:B,description:M,shopMonetaryUnit:h,finalPrice:f,langObj:C,partyActiveLable:K,anonymousState__temp18:I,isTakeawayInvalid:this.isTakeawayInvalid}),this.__state}},{key:"_createComboMealMatchData",value:function(e){var t=this;return function(){var e,o=(u=t.props).shoppingBagStore,n=u.user,a=o.shopIsInService,i=(o.shopIsBusyButForPreMade,o.shopIsClosingForNight),r=(o.shopIsBusy,o.shopClosedAndSupportAppoint,o.shop,n.hasBoundPhone,n.lang),s=(p=t.props).product,u=p.itemCount,p=(o=s.has_stock,n=s.is_sold_out_forever,s.on_sale_time),c=s.start_time,l=s.end_time,d=s.limit_days;return s.appointable,r=_.default.getLang(r,"index"),(i=t.judgeComboAppointment())?t.anonymousFunc4=function(e){t.goComboMealDetail(s,!0),e.stopPropagation&&e.stopPropagation()}:a&&(p?(e=(!n||1!==n)&&o,t.anonymousFunc5=function(o){e&&t.goComboMealDetail(s),o.stopPropagation&&o.stopPropagation()}):t.anonymousFunc6=function(e){h.default.getInstance().events.trigger(m.default.eventNames.comboMealTimeTip,{limitDays:d,time:c+" - "+l}),e.stopPropagation&&e.stopPropagation()}),{anonymousState__temp12:i,langObj:r,itemCount:u,Cfg:m.default,on_sale_time:p,_$btnClickable2:e,shopIsInService:a}}}},{key:"anonymousFunc0",value:function(e){}},{key:"anonymousFunc1",value:function(e){}},{key:"anonymousFunc2",value:function(e){}},{key:"anonymousFunc3",value:function(e){e.stopPropagation()}},{key:"anonymousFunc4",value:function(e){e.stopPropagation()}},{key:"anonymousFunc5",value:function(e){e.stopPropagation()}},{key:"anonymousFunc6",value:function(e){e.stopPropagation()}},{key:"isTakeawayInvalid",get:function(){var e=(t=this.props).product,t=t.shoppingBagStore.takeoutAddress;return 1!==e.support_takeaway&&t}}]),a=s=I,s.$$events=["anonymousFunc0","anonymousFunc3","submitFormId","anonymousFunc4","submitFormId","anonymousFunc5","anonymousFunc6"],s.$$componentPath="pages/index/_index/product_list/product_item",a=a).defaultProps={product:{images:{},skus:{},labels:[]},categoryId:0,itemCount:0,categoryName:""},a=(0,u.__decorate)([(0,l.inject)("shoppingBagStore","activityStore","user"),l.observer],a),t.default=a,Component(o(0).default.createComponent(a))}},[[3525,0,1,2,3]]]);
},{isPage:false,isComponent:true,currentFile:'pages/index/_index/product_list/product_item.js'});require("pages/index/_index/product_list/product_item.js");