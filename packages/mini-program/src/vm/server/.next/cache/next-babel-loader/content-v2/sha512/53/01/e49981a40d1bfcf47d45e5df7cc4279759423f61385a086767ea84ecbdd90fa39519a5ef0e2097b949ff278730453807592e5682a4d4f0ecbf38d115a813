{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _classCallCheck from \"/Users/weiyanhai/Downloads/tick/packages/mini-program/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/weiyanhai/Downloads/tick/packages/mini-program/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/weiyanhai/Downloads/tick/packages/mini-program/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/weiyanhai/Downloads/tick/packages/mini-program/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/weiyanhai/Downloads/tick/packages/mini-program/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/weiyanhai/Downloads/tick/packages/mini-program/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/weiyanhai/Downloads/tick/packages/mini-program/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/weiyanhai/Downloads/tick/packages/mini-program/src/vm/server/componnets/UIService/index.tsx\",\n    _s = $RefreshSig$();\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { useScript } from '../../hooks/useScript';\nimport { Component } from 'react';\nimport { useMessage } from '../../hooks/useMessage';\nexport function Service(props) {\n  _s();\n\n  useScript(\"/context\");\n  useScript(\"/uiservice\");\n  useScript(function () {\n    var onLoad = props.onLoad;\n    onLoad();\n  });\n\n  var subscribeMethod = function subscribeMethod() {\n    var subscribeHandler = props.subscribeHandler;\n    subscribeHandler.apply(void 0, arguments);\n  };\n\n  useMessage(\"webview.custom_event_GenerateFuncReady\", subscribeMethod);\n  useMessage(\"webview.custom_event_PAGE_EVENT\", subscribeMethod);\n  useMessage(\"webview.custom_event_initReady_getPerformance\", subscribeMethod);\n  useMessage(\"webview.custom_event_vdSync\", subscribeMethod);\n  useMessage(\"webview.custom_event_tapAnyWhere\", subscribeMethod);\n  return null;\n}\n\n_s(Service, \"6kQpTec/mT7kd+CkZsTrN13AFXk=\", false, function () {\n  return [useScript, useScript, useScript, useMessage, useMessage, useMessage, useMessage, useMessage];\n});\n\n_c = Service;\nexport var UIService = /*#__PURE__*/function (_Component) {\n  _inherits(UIService, _Component);\n\n  var _super = _createSuper(UIService);\n\n  function UIService() {\n    var _this;\n\n    _classCallCheck(this, UIService);\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(_args));\n\n    _defineProperty(_assertThisInitialized(_this), \"subscribeHandler\", function () {\n      var _WeixinJSBridge;\n\n      (_WeixinJSBridge = WeixinJSBridge).invokeCallbackHandler.apply(_WeixinJSBridge, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"invokeCallbackHandler\", function () {\n      var _WeixinJSBridge2;\n\n      (_WeixinJSBridge2 = WeixinJSBridge).invokeCallbackHandler.apply(_WeixinJSBridge2, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoad\", function () {\n      var onLoad = _this.props.onLoad;\n      onLoad();\n    });\n\n    return _this;\n  }\n\n  _createClass(UIService, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(Service, {\n        onLoad: this.onLoad,\n        subscribeHandler: this.subscribeHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 12\n      }, this);\n    }\n  }]);\n\n  return UIService;\n}(Component);\n\n_defineProperty(UIService, \"defaultProps\", {\n  onLoad: function onLoad() {}\n});\n\nvar _c;\n\n$RefreshReg$(_c, \"Service\");","map":{"version":3,"sources":["/Users/weiyanhai/Downloads/tick/packages/mini-program/src/vm/server/componnets/UIService/index.tsx"],"names":["useScript","Component","useMessage","Service","props","onLoad","subscribeMethod","subscribeHandler","UIService","WeixinJSBridge","invokeCallbackHandler"],"mappings":";;;;;;;;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,uBAA1B;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,UAAT,QAA2B,wBAA3B;AAGA,OAAO,SAASC,OAAT,CAAkBC,KAAlB,EAAyB;AAAA;;AAC9BJ,EAAAA,SAAS,YAAT;AACAA,EAAAA,SAAS,cAAT;AACAA,EAAAA,SAAS,CAAC,YAAM;AAAA,QACNK,MADM,GACKD,KADL,CACNC,MADM;AAEdA,IAAAA,MAAM;AACP,GAHQ,CAAT;;AAKA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAa;AAAA,QAC3BC,gBAD2B,GACNH,KADM,CAC3BG,gBAD2B;AAEnCA,IAAAA,gBAAgB,MAAhB;AACD,GAHD;;AAKAL,EAAAA,UAAU,2CAA2CI,eAA3C,CAAV;AACAJ,EAAAA,UAAU,oCAAoCI,eAApC,CAAV;AACAJ,EAAAA,UAAU,kDAAkDI,eAAlD,CAAV;AACAJ,EAAAA,UAAU,gCAAgCI,eAAhC,CAAV;AACAJ,EAAAA,UAAU,qCAAqCI,eAArC,CAAV;AAEA,SAAO,IAAP;AACD;;GApBeH,O;UACdH,S,EACAA,S,EACAA,S,EAUAE,U,EACAA,U,EACAA,U,EACAA,U,EACAA,U;;;KAjBcC,O;AA0BhB,WAAaK,SAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,uEAKqB,YAAa;AAAA;;AAC9B,yBAAAC,cAAc,EAACC,qBAAf;AACD,KAPH;;AAAA,4EAS0B,YAAa;AAAA;;AACnC,0BAAAD,cAAc,EAACC,qBAAf;AACD,KAXH;;AAAA,6DAaW,YAAM;AAAA,UACLL,MADK,GACM,MAAKD,KADX,CACLC,MADK;AAEbA,MAAAA,MAAM;AACP,KAhBH;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BAkBY;AACR,0BAAO,QAAC,OAAD;AACL,QAAA,MAAM,EAAE,KAAKA,MADR;AAEL,QAAA,gBAAgB,EAAE,KAAKE;AAFlB;AAAA;AAAA;AAAA;AAAA,cAAP;AAID;AAvBH;;AAAA;AAAA,EAA+BN,SAA/B;;gBAAaO,S,kBACW;AACpBH,EAAAA,MADoB,oBACV,CAAE;AADQ,C","sourcesContent":["import { useScript } from '../../hooks/useScript';\nimport { Component } from 'react';\nimport { useMessage } from '../../hooks/useMessage';\n\n\nexport function Service (props) {\n  useScript(`/context`);\n  useScript(`/uiservice`);\n  useScript(() => {\n    const { onLoad } = props;\n    onLoad();\n  });\n\n  const subscribeMethod = (...args) => {\n    const { subscribeHandler } = props;\n    subscribeHandler(...args);\n  }\n\n  useMessage(`webview.custom_event_GenerateFuncReady`, subscribeMethod);\n  useMessage(`webview.custom_event_PAGE_EVENT`, subscribeMethod);\n  useMessage(`webview.custom_event_initReady_getPerformance`, subscribeMethod);\n  useMessage(`webview.custom_event_vdSync`, subscribeMethod);\n  useMessage(`webview.custom_event_tapAnyWhere`, subscribeMethod);\n  \n  return null;\n}\n\nexport interface IProps {\n  onLoad: Function | null;\n}\n\nexport class UIService extends Component<IProps, {}> {\n  static defaultProps = {\n    onLoad () {}\n  }\n\n  subscribeHandler = (...args) => {\n    WeixinJSBridge.invokeCallbackHandler(...args);\n  }\n\n  invokeCallbackHandler = (...args) => {\n    WeixinJSBridge.invokeCallbackHandler(...args);\n  }\n\n  onLoad = () => {\n    const { onLoad } = this.props;\n    onLoad();\n  }\n\n  render () {\n    return <Service \n      onLoad={this.onLoad}\n      subscribeHandler={this.subscribeHandler} \n    />\n  }\n}"]},"metadata":{},"sourceType":"module"}